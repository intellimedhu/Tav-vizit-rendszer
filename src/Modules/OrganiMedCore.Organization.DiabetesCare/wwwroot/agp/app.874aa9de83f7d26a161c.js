webpackJsonp([1],{0:function(t,e,n){n("j1ja"),t.exports=n("NHnr")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("j1ja");var i=n("7+uW"),a=n("NYxO"),s=n("PJh5"),l=n.n(s),r=n("woOf"),o=n.n(r),u=n("fZjL"),c=n.n(u),d=n("mtWM"),g=n.n(d),h=n("Xxa5"),m=n.n(h),v=n("exGp"),p=n.n(v),f=function(t,e,n){return e.getTime()<=t.getTime()&&t<n},y=function(t,e){"string"==typeof e.date&&(e.date=new Date(e.date));var n=new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate());return t[n]||(t[n]=[]),t[n].push(e),n=null,t},b=function(t,e){"string"==typeof e.date&&(e.date=new Date(e.date));var n=new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate());return t[n]||(t[n]=0),++t[n],n=null,t},_="basal",w="bolus",D="mix",S="#a71b29",C="#ed1c24",T="#5abc68",k="#fff200",x="#fdb813",M={round:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,e);return Math.round(t*n)/n},shortTime:function(t){if(t)return l()(t).format("HH:mm")},dateEquals:function(t,e){return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},addMinutes:function(t,e){if(t)return e||(e=1),new Date(t.getTime()+60*e*1e3)},get24HoursTicks:function(t,e,n,i){for(var a=[],s=function(s){var l="";if("en"==n?l=0==s||24==s?"12AM":s<=12?s+"AM":s-12+"PM":s%24<10?l="0"+s%24:s<24&&(l=s.toString()),t){var r=e.filter(function(t){return t.hour==s})[0];l+=r?"\r\n"+r.values.length.toString():"\r\n0"}i&&i.length&&i.forEach(function(t){var e=t.hourlyValues.find(function(t){return t.hour==s});l+=e?"\r\n"+e.insulins.length.toString():"\r\n0"}),a.push({v:new Date(0,0,0,s,0,0),f:l,fontSize:18,color:"red"}),l=null},l=0;l<=24;l++)s(l);return a},sortByDate:function(t,e){return t.date<e.date?-1:1},changeUnit:function(t,e,n){if(e==n)return t;if("mmol/l"==e&&"mg/dl"==n)return 18*t;if("mg/dl"==e&&"mmol/l"==n)return t/18;throw"Unknown units: "+e+", "+n+"."},getGlucoseValueTooltip:function(t,e,n,i){return this.round(t,1)+" "+n+", "+l()(e).format(i)},subtract3Months:function(t){return l()(t).startOf("day").subtract(3,"months").toDate()},getTotalDays:function(t,e){return l()(t).add(1,"days").diff(e,"days")},addDays:function(t,e){return new Date(t.getTime()+1440*e*6e4)},convertTimeString:function(t){if(M.validateTime(t))return new Date(0,0,0,+t.split(":")[0],+t.split(":")[1])},validateTime:function(t){return t&&/^([01]?[0-9]|2[0-3])\:[0-5][0-9]$/.test(t)},dayLoaded:function(t,e){return t<e||M.dateEquals(e,t)},defaultCompare:function(t,e){return t<e?-1:t>e?0:1},openNewPrintWindow:function(t){var e="";t.includeCss&&document.querySelectorAll('link[rel="stylesheet"], style').forEach(function(t){e+=t.outerHTML});var n=window.open("");n.document.open(),n.document.write("<html><head><title>"+t.title+"</title>"+e+"</head><body>"+t.body+"</body><html>"),n.document.close(),n.onload=function(){n.print()},t.closeAfterPrint&&(n.onafterprint=function(){n.close()})},getPercentage:function(t,e){return e?M.round(t/e*100,1):0}},L={gmiConstant:3.31,gmiMultiplier:.02392,"mmol/l":{min:1.1,sLowLimit:M.round(3,1),lowLimit:M.round(70/18,1),highLimit:M.round(10,1),sHighLimit:M.round(250/18,1),max:36.1},"mg/dl":{min:19.8,sLowLimit:54,lowLimit:70,highLimit:180,sHighLimit:250,max:649.8}},V=M,P=new i.default,z={data:function(){return{insulinMaxAverage:0,printView:!1,screenXs:768,initialized:!1,chart:null,windowWidth:window.innerWidth,percentageLines:{lowest:.05,low:.25,high:.75,highest:.95}}},methods:{draw:function(){var t=this;return p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.initialized=!1,t.displayAgp&&!t.noData){e.next=3;break}return e.abrupt("return");case 3:t.dispose(),t.chart=new google.visualization.ComboChart(document.getElementById("agp-chart-area")),google.visualization.events.addListener(t.chart,"ready",t.chartReady),t.chart.draw(t.chartView,t.chartOptions);case 7:case"end":return e.stop()}},e,t)}))()},chartReady:function(){this.initialized=!0},getAreaRow:function(t){var e=[t];this.isDcmView?e.push(null,null,null,null,null,null,null,null,null,null):e.push(null,null),e.push(null,null),this.globalSettings.displayAverageLines&&e.push(null,null,null,null,null,null,null,null),this.insulinBrands.forEach(function(){e.push(null,null)});var n=V.round(this.targetRangeMin,1),i=V.round(this.targetRangeMax-this.targetRangeMin,1),a=V.round(this.targetRangeMax,1),s=this.isDcmView?"#aafaaa":"#555",l="fill-color: white; stroke-color: "+s+"; stroke-width: 2;",r="fill-color: "+(this.isDcmView?"#aafaaa":"white")+"; stroke-color: "+s+"; stroke-width: 2;";return e.push(n,n.toString(),l,i,a.toString(),r),e},getTime:function(t){if(!this.isDate(t))throw t+" is not a valid date";return new Date(0,0,0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},isDate:function(t){return t instanceof Date&&"Invalid Date"!=t},sortByFirstItem:function(t,e){return t[0]<e[0]?-1:1},sortByHour:function(t,e){return V.defaultCompare(t.hour,e.hour)},getInsulinsAverage:function(t){return t&&t.length?V.round(t.reduce(function(t,e){return t+e.unit},0)/t.length,1):null},initializePercentageValues:function(t){var e=this;if(this.glucoseValuesByHours&&this.originalUnit&&this.globalSettings.unit){var n=[];return this.glucoseValuesByHours.forEach(function(i){var a=[new Date(0,0,0,i.hour,30)];if(e.isDcmView?a.push(null,null,null,null,null,null,null,null,null,null):a.push(null,null),a.push(null,null,null,null,null,null,null,null,null,null),e.insulinBrands.forEach(function(t){a.push(null,null)}),a.push(null,null,null,null,null,null),!(i.values.length<2)){var s=i.values[Math.floor(i.values.length*t)],l=void 0,r=void 0;switch(t){case e.percentageLines.highest:l=e.isDcmView?19:11,r=e.isDcmView?20:12;break;case e.percentageLines.high:l=e.isDcmView?17:9,r=e.isDcmView?18:10;break;case e.percentageLines.low:l=e.isDcmView?15:7,r=e.isDcmView?16:8;break;case e.percentageLines.lowest:l=e.isDcmView?13:5,r=e.isDcmView?14:6}var o=V.round(V.changeUnit(s.value,e.originalUnit,e.globalSettings.unit),1);a[l]=o,a[r]=o.toString(),n.push(a)}}),n.sort(this.sortByFirstItem),n}},groupGlucoseValuesByHours:function(t,e){var n=[];t.forEach(function(t){for(var e=t.date.getHours(),i=0;i<n.length&&n[i].hour!=e;)i++;i<n.length?n[i].values.push(t):n.push({hour:e,values:[t]}),n[i].values.sort(function(t,e){return t.value<e.value?-1:1}),i=null,e=null}),this.fillHourLeaks(n),n.sort(this.sortByHour),e(n),n=null},fillHourLeaks:function(t){for(var e=function(e){t.filter(function(t){return t.hour==e})[0]||t.push({hour:e,values:[]})},n=0;n<24;n++)e(n)},dispose:function(){google.visualization.events.removeListener(this.chart,"ready",this.chartReady),this.chart&&(this.chart.clearChart(),this.chart=null)},getChartImageUri:function(){if(this.initialized&&this.displayAgp&&!this.noData&&this.chart)return this.chart.getImageURI()},invalidate:function(){var t=this;this.$nextTick(function(){google.charts.setOnLoadCallback(t.draw)})},onGlobalSettingsUpdated:function(t){(t.difference.curveType||t.difference.displayAverageLines||t.difference.displayNonMeasurableValues||t.difference.currentLanguage||t.difference.displayInsulinInAGP||t.difference.midlineType||t.difference.unit||t.difference.colorBasal||t.difference.colorBolus||t.difference.colorMix||t.difference.viewMode)&&this.invalidate()},onRangeChanged:function(){this.$nextTick(this.invalidate)},onVResized:function(){this.windowWidth=window.innerWidth,this.invalidate()},onPrintViewSet:function(t){this.printView=t}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},totalDays:function(){return this.$store.getters.totalDays},isDcmView:function(){return"DCMView"==this.globalSettings.viewMode},lang:function(){return this.$i18n.t("agpChart",this.globalSettings.currentLanguage)},loadingText:function(){return this.$i18n.t("loadingText",this.globalSettings.currentLanguage)},insulinUnitTitle:function(){return this.$i18n.t("insulinUnitTitle",this.globalSettings.currentLanguage)},countUnit:function(){return this.$i18n.t("countUnit",this.globalSettings.currentLanguage)},isSmallSize:function(){return window.innerWidth<this.screenXs},horizontalAxisFontSize:function(){return this.windowWidth<768?6:this.windowWidth<1024?7:this.windowWidth<1200?12:14},displayAgp:function(){return this.totalDays<=this.globalSettings.averageModeDaysLimit},chartView:function(){if(this.displayAgp&&!this.noData){var t=new google.visualization.DataTable;t.addColumn("datetime",this.lang.time),this.isDcmView?(t.addColumn("number",this.lang.veryLowValues),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",this.lang.lowValues),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",this.lang.normalValues),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",this.lang.highValues),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",this.lang.veryHighValues),t.addColumn({type:"string",role:"tooltip"})):(t.addColumn("number",this.lang.agpScatterValues),t.addColumn({type:"string",role:"tooltip"})),t.addColumn("number","50%"),t.addColumn({type:"string",role:"tooltip"}),this.globalSettings.displayAverageLines&&(t.addColumn("number",(100*this.percentageLines.lowest).toFixed(0)+"%"),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",(100*this.percentageLines.low).toFixed(0)+"%"),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",(100*this.percentageLines.high).toFixed(0)+"%"),t.addColumn({type:"string",role:"tooltip"}),t.addColumn("number",(100*this.percentageLines.highest).toFixed(0)+"%"),t.addColumn({type:"string",role:"tooltip"})),this.insulinBrands.forEach(function(e){t.addColumn("number",e.name),t.addColumn({type:"string",role:"tooltip"})}),t.addColumn("number",""),t.addColumn({type:"string",role:"tooltip"}),t.addColumn({type:"string",role:"style"}),t.addColumn("number",this.lang.targetRangeLegend+" ("+this.targetRangeMin+"-"+this.targetRangeMax+")"),t.addColumn({type:"string",role:"tooltip"}),t.addColumn({type:"string",role:"style"}),this.noData||t.addRows(this.chartData);var e=new google.visualization.DataView(t);t=null;var n=[],i=-1;return i=this.isDcmView?this.globalSettings.displayAverageLines?21:13:this.globalSettings.displayAverageLines?13:5,this.globalSettings.displayInsulinInAGP||this.insulinBrands.forEach(function(){n.push(i,i+1),i+=2}),n.length&&e.hideColumns(n),e}},fullDateFormat:function(){return this.$i18n.t("fullDateFormat",this.globalSettings.currentLanguage)},noData:function(){var t=!this.filteredBloodGlucoseValues.length;return this.globalSettings.displayInsulinInAGP&&(t=t&&!this.insulinsCount),t},chartData:function(){var t=this;if(!this.noData){var e=[this.getAreaRow(new Date(0,0,0)),this.getAreaRow(new Date(0,0,0,23,59,59,59,999))];this.filteredBloodGlucoseValues.forEach(function(n){var i=V.changeUnit(n.value,t.originalUnit,t.globalSettings.unit),a=V.getGlucoseValueTooltip(i,n.date,t.globalSettings.unit,t.fullDateFormat),s=[t.getTime(n.date)];if(t.isDcmView){var l=null,r=null,o=null,u=null,c=null,d=null,g=null,h=null,m=null,v=null;n.agpIsVeryLow?(l=i,r=a):n.agpIsLow?(o=i,u=a):n.agpIsHigh?(g=i,h=a):n.agpIsVeryHigh?(m=i,v=a):(c=i,d=a),s.push(l,r,o,u,c,d,g,h,m,v)}else s.push(i,a);s.push(null,null),t.globalSettings.displayAverageLines&&s.push(null,null,null,null,null,null,null,null),t.insulinBrands.forEach(function(){s.push(null,null)}),s.push(null,null,null,null,null,null),e.push(s)});var n=null;if("avg"==this.globalSettings.midlineType?n=this.avgMidline:"median"==this.globalSettings.midlineType&&(n=this.medianMindline),n&&(n.forEach(function(t){return e.push(t)}),n=null),this.globalSettings.displayInsulinInAGP){var i=0,a=0,s=60/this.insulinBrands.length;this.insulinMaxAverage=0,this.insulinValuesByHours.forEach(function(n){n.hourlyValues.forEach(function(s){var l=[],r=0,o=!1;t.insulinBrands.forEach(function(){if(i==r++){var e=t.getInsulinsAverage(s.insulins);if(e)return o=!0,l.push(e,n.insulinType+": "+e),e>t.insulinMaxAverage&&(t.insulinMaxAverage=e),void(e=null)}l.push(null,null)}),o&&(t.globalSettings.displayAverageLines&&l.unshift(null,null,null,null,null,null,null,null),l.unshift(null,null),t.isDcmView?l.unshift(null,null,null,null,null,null,null,null,null,null):l.unshift(null,null),l.unshift(new Date(0,0,0,s.hour,a,0)),l.push(null,null,null,null,null,null),e.push(l)),r=null,l=null,o=null}),i++,a+=s}),i=null,a=null,s=null}return this.globalSettings.displayAverageLines&&(this.lowestPercentageValues.forEach(function(t){return e.push(t)}),this.lowPercentageValues.forEach(function(t){return e.push(t)}),this.highPercentageValues.forEach(function(t){return e.push(t)}),this.highestPercentageValues.forEach(function(t){return e.push(t)})),e}},chartOptions:function(){var t=this;if(this.displayAgp&&!this.noData){var e={},n=0;this.isDcmView?(e[n++]={color:S},e[n++]={color:C},e[n++]={color:T},e[n++]={color:"#f7d61c"},e[n++]={color:x}):e[n++]={color:"#6d6e71",pointShape:"diamond",pointSize:8},e[n++]={type:"line",pointSize:8,lineWidth:3,curveType:this.globalSettings.curveType,color:"#f68b1e"},this.globalSettings.displayAverageLines&&(e[n++]={type:"line",pointSize:0,lineWidth:2,lineDashStyle:[10,10],curveType:this.globalSettings.curveType,color:"#99c26b"},e[n++]={type:"line",pointSize:0,lineWidth:2,curveType:this.globalSettings.curveType,color:"#50a9d8"},e[n++]={type:"line",pointSize:0,lineWidth:2,curveType:this.globalSettings.curveType,color:"#50a9d8"},e[n++]={type:"line",pointSize:0,lineWidth:2,lineDashStyle:[10,10],curveType:this.globalSettings.curveType,color:"#99c26b"}),this.globalSettings.displayInsulinInAGP&&this.insulinBrands.forEach(function(i){var a=t.insulinTypes.find(function(t){return t.type==i.type});e[n++]={type:"bars",color:a?a.color:null,targetAxisIndex:1}}),e[n++]={type:"area",pointSize:0,lineWidth:1,visibleInLegend:!1,color:"transparent"},e[n++]={type:"area",pointSize:0,lineWidth:1};var i={0:{title:this.isSmallSize?null:this.lang.chartTitle,titleTextStyle:{bold:!0,italic:!1,fontSize:12},gridlines:{color:"gray"},ticks:this.horizontalTicksInCurrentUnit,format:"0.0"}};this.globalSettings.displayInsulinInAGP&&(i[1]={title:this.isSmallSize?null:this.insulinUnitTitle,titleTextStyle:{bold:!0,italic:!1,fontSize:12},gridlines:{count:0},minValue:0,maxValue:this.insulinMaxAverage});var a={async:!0,allowAsync:!0,aggregationTarget:"category",height:500,title:this.isSmallSize?this.lang.chartTitle:null,chartArea:{left:this.isSmallSize?null:100,right:this.isSmallSize?null:80,top:30,bottom:this.isSmallSize?60:120},isStacked:!0,legend:{position:"bottom",textStyle:{fontSize:14}},hAxis:{titleTextStyle:{italic:!1},textStyle:{fontSize:this.horizontalAxisFontSize},ticks:V.get24HoursTicks(this.isDcmView,this.glucoseValuesByHours,this.language,this.globalSettings.displayInsulinInAGP&&this.insulinBrands.length?this.insulinValuesByHours:[])},bar:{groupWidth:this.isSmallSize?"25%":"5"},interpolateNulls:!0,seriesType:"scatter",vAxes:i,series:e};return e=null,i=null,n=null,a}},avgMidline:function(){var t=this;if("avg"==this.globalSettings.midlineType){var e=[];return this.glucoseValuesByHours.forEach(function(n){var i=n.values.filter(function(e){var n=V.changeUnit(e.value,t.originalUnit,t.globalSettings.unit);return n>=t.targetRangeMin&&n<=t.targetRangeMax});if(i.length){var a=i.reduce(function(t,e){return t+e.value},0)/i.length;i=null;var s=V.round(V.changeUnit(a,t.originalUnit,t.globalSettings.unit),1),l=[new Date(0,0,0,n.hour,30)];t.isDcmView?l.push(null,null,null,null,null,null,null,null,null,null):l.push(null,null),l.push(s,s+" "+t.globalSettings.unit+", "+n.hour.toString().padStart(2,"0")),t.globalSettings.displayAverageLines&&l.push(null,null,null,null,null,null,null,null),t.insulinBrands.forEach(function(){l.push(null,null)}),l.push(null,null,null,null,null,null),e.push(l)}}),e.sort(this.sortByFirstItem),e}},medianMindline:function(){var t=this;if("median"==this.globalSettings.midlineType){var e=[];return this.glucoseValuesByHours.forEach(function(n){var i=n.values.map(function(e){return V.changeUnit(e.value,t.originalUnit,t.globalSettings.unit)});if(!(i.length<2)){i.sort(V.defaultCompare);var a=Math.floor(i.length/2),s=V.round(i.length%2==1?i[a]:(i[Math.floor(a)]+i[Math.floor(a-1)])/2,1);a=null;var l=[new Date(0,0,0,n.hour,30)];t.isDcmView?l.push(null,null,null,null,null,null,null,null,null,null):l.push(null,null),l.push(s,s+" "+t.globalSettings.unit+", "+n.hour.toString().padStart(2,"0")),t.globalSettings.displayAverageLines&&l.push(null,null,null,null,null,null,null,null),t.insulinBrands.forEach(function(){l.push(null,null)}),l.push(null,null,null,null,null,null),e.push(l),l=null}}),e.sort(this.sortByFirstItem),e}},lowestPercentageValues:function(){return this.globalSettings.displayAverageLines?this.initializePercentageValues(this.percentageLines.lowest):[]},lowPercentageValues:function(){return this.globalSettings.displayAverageLines?this.initializePercentageValues(this.percentageLines.low):[]},highPercentageValues:function(){return this.globalSettings.displayAverageLines?this.initializePercentageValues(this.percentageLines.high):[]},highestPercentageValues:function(){return this.globalSettings.displayAverageLines?this.initializePercentageValues(this.percentageLines.highest):[]},glucoseValuesByHours:function(){var t=[];return this.groupGlucoseValuesByHours(this.filteredBloodGlucoseValues,function(e){return t=e}),t},horizontalTicksInCurrentUnit:function(){return"mmol/l"==this.globalSettings.unit?[0,3,5,10,15,20,25,this.dailyChartsVMax<=30?30:40]:[0,54,90,180,270,360,450,this.dailyChartsVMax<=540?540:720]},targetRangeMin:function(){return V.round(L[this.globalSettings.unit].lowLimit,1)},targetRangeMax:function(){return V.round(L[this.globalSettings.unit].highLimit,1)},insulinValuesByHours:function(){var t=[];return this.filteredInsulinValuesByBrands.forEach(function(e){for(var n=[],i=function(t){n.push({hour:t,insulins:e.values.filter(function(e){return e.date.getHours()==t})})},a=0;a<24;a++)i(a);t.push({insulinType:e.insulinType,hourlyValues:n,brandName:e.name}),n=null}),t}},mounted:function(){var t=this;this.$nextTick(function(){t.invalidate()}),P.$on("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$on("rangeChanged",this.onRangeChanged),P.$on("vResized",this.onVResized),P.$on("setAgpPrintView",this.onPrintViewSet)},beforeDestroy:function(){this.dispose(),P.$off("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$off("rangeChanged",this.onRangeChanged),P.$off("vResized",this.onVResized),P.$off("setAgpPrintView",this.onPrintViewSet)},props:["filteredBloodGlucoseValues","insulinsCount","filteredInsulinValuesByBrands","insulinBrands","insulinTypes","originalUnit","dailyChartsVMax"]},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"agp-container row print-content-diagrams",class:{"mx-auto":t.chart&&t.printView}},[n("div",{staticClass:"col-12 agp-column"},[t.displayAgp&&!t.noData?n("div",{staticClass:"mb-3"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.initialized,expression:"!initialized"}],staticClass:"loading-spinner d-print-none text-primary"},[n("div",{staticClass:"spinner-border mb-3",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v(t._s(t.loadingText))])]),t._v(" "),n("p",[t._v(t._s(t.loadingText))])]),t._v(" "),n("div",{staticClass:"agp-chart-area-wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.printView,expression:"!printView"}],attrs:{id:"agp-chart-area"}}),t._v(" "),t.chart&&t.printView?n("img",{staticClass:"d-print-block w-100 print-not-break",attrs:{src:t.getChartImageUri()}}):t._e()]),t._v(" "),t.globalSettings.displayInsulinInAGP?n("ul",{directives:[{name:"show",rawName:"v-show",value:t.initialized,expression:"initialized"}],staticClass:"axis-captions axis-captions-left d-print-none",class:"axis-captions-left-"+t.insulinBrands.length},[n("li",[t._v(t._s(t.lang.axisHour))]),t._v(" "),t.isDcmView?n("li",[t._v(t._s(t.lang.axisMeasurements)+" ["+t._s(t.countUnit)+"]")]):t._e(),t._v(" "),t._l(t.insulinBrands,function(e,i){return n("li",{key:i},[t._v("\n            "+t._s(e.name)+" ["+t._s(t.countUnit)+"]\n          ")])})],2):t._e(),t._v(" "),t.globalSettings.displayInsulinInAGP?n("ul",{directives:[{name:"show",rawName:"v-show",value:t.initialized,expression:"initialized"}],staticClass:"axis-captions axis-captions-right d-print-none",class:"axis-captions-right-"+t.insulinBrands.length},[n("li",[t._v(t._s(t.lang.axisHour))])]):t._e()]):t._e(),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.displayAgp,expression:"!displayAgp"}],staticClass:"alert alert-warning mt-3 mb-2"},[n("i",{staticClass:"icon-info-sign"}),t._v("\n        "+t._s(t.lang.averageModeDaysLimitText)+"\n      ")]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],staticClass:"alert alert-warning mt-3 mb-2"},[n("i",{staticClass:"icon-info-sign"}),t._v("\n        "+t._s(t.lang.noDataText)+"\n      ")])])])])},staticRenderFns:[]},R=n("VU/8")(z,I,!1,null,null,null).exports,F=n("c/Tr"),B=n.n(F),E=n("504h"),A=n.n(E);n("mS+B")(A.a);var H={data:function(){return{chart:null}},methods:{invalidate:function(){this.destroy(),this.chart=A.a.chart("agp-highchart-container",{title:"",chart:{marginLeft:110},credits:!1,plotOptions:{series:{animation:!1,events:{legendItemClick:function(){return!1}}}},tooltip:{valueDecimals:1},xAxis:this.xAxis,yAxis:[{title:{text:"Ambulatory glucose profile",style:{fontWeight:"bold"}},min:0,max:30,gridLineWidth:1},{title:{text:"Insulin Unit (U)",rotation:270,style:{fontWeight:"bold"}},min:0,max:25,opposite:!0,gridLineWidth:1}],series:this.series})},destroy:function(){this.chart&&(this.chart.destroy(),this.chart=null)},getScatterData:function(t){return this.filteredBloodGlucoseValues.filter(t).map(function(t){return[t.date.getHours()+t.date.getMinutes()/60,t.value]}).sort(function(t,e){return t[0]<e[0]?-1:1})},onRangeChanged:function(){this.$nextTick(this.invalidate)}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},ticks25:function(){return B()(Array(25),function(t,e){return e})},ticksHour:function(){return this.ticks25.map(function(t){return(""+t).padStart(2,"0")})},measurementsPerHours:function(){var t=this;return this.ticks25.map(function(e){return t.filteredBloodGlucoseValues.filter(function(t){return t.date.getHours()==e}).length})},xAxis:function(){var t=this;return[{min:0,max:24,margin:5,title:{text:"Óra",align:"low",textAlign:"right",margin:-20,x:-10,y:5},gridLineWidth:1,categories:this.ticksHour},{min:0,max:24,margin:5,title:{text:"Mérések [db]",align:"low",textAlign:"right",margin:-20,x:-10,y:5},categories:this.measurementsPerHours}].concat(this.filteredInsulinValuesByBrands.map(function(e){return{min:0,max:24,margin:5,title:{text:e.name+"[db]",align:"low",textAlign:"right",margin:-20,x:-10,y:5},categories:t.ticks25.map(function(t){return e.values.filter(function(e){return e.date.getHours()==t}).length})}}))},series:function(){var t=this;return[{name:"Céltartomány ("+this.targetRangeMin+"-"+this.targetRangeMax+")",type:"arearange",data:[[0,this.targetRangeMin,this.targetRangeMax],[24,this.targetRangeMin,this.targetRangeMax]],lineWidth:2,fillColor:"rgba(230, 254, 229, 0.75)",color:"lightgreen",marker:{enabled:!1}}].concat(this.filteredInsulinValuesByBrands.map(function(e,n){return{name:e.name,type:"column",data:e.values.reduce(function(t,e){var n=e.date.getHours(),i=t.find(function(t){return t.hour==n});return i||(i={hour:n,values:[]},t.push(i)),i.values.push(e.unit),t},[]).map(function(t){return[t.hour,t.values.reduce(function(t,e){return t+e},0)/t.values.length]}).sort(function(t,e){return t[0]<e[0]?-1:1}),color:t.insulinTypes.find(function(t){return t.type==e.insulinType}).color,yAxis:1,xAxis:2+n}})).concat([{name:"very low",type:"scatter",data:this.getScatterData(function(t){return t.agpIsVeryLow}),marker:{symbol:"circle",radius:4},xAxis:1,color:S},{name:"low",type:"scatter",data:this.getScatterData(function(t){return t.agpIsLow}),marker:{symbol:"circle",radius:4},xAxis:1,color:C},{name:"in target",type:"scatter",data:this.getScatterData(function(t){return t.agpIsInTarget}),marker:{symbol:"circle",radius:4},xAxis:1,color:T},{name:"high",type:"scatter",data:this.getScatterData(function(t){return t.agpIsHigh}),marker:{symbol:"circle",radius:4,lineColor:"#e1e70a",lineWidth:1},xAxis:1,color:k},{name:"very high",type:"scatter",data:this.getScatterData(function(t){return t.agpIsVeryHigh}),marker:{symbol:"circle",radius:4},xAxis:1,color:x},{name:"50%",type:"spline",data:this.averageData,color:"#f68b1e",lineWidth:3,marker:{symbol:"circle",radius:4},xAxis:1}])},averageData:function(){return this.filteredBloodGlucoseValues.filter(function(t){return t.agpIsInTarget}).reduce(function(t,e){var n=e.date.getHours(),i=t.find(function(t){return t.hour==n});return i||(i={hour:n,values:[]},t.push(i)),i.values.push(e.value),t},[]).map(function(t){return[t.hour+.5,t.values.reduce(function(t,e){return t+e},0)/t.values.length]}).sort(function(t,e){return t[0]<e[0]?-1:1})},targetRangeMin:function(){return L[this.globalSettings.unit].lowLimit},targetRangeMax:function(){return L[this.globalSettings.unit].highLimit}},mounted:function(){this.invalidate(),P.$on("rangeChanged",this.onRangeChanged)},beforeDestroy:function(){P.$off("rangeChanged",this.onRangeChanged),this.destroy()},props:["filteredBloodGlucoseValues","filteredInsulinValuesByBrands","insulinTypes"]},$={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{width:"100%",height:"500px",margin:"0 auto"},attrs:{id:"agp-highchart-container"}}),this._v(" "),e("hr")])}]},U=n("VU/8")(H,$,!1,null,null,null).exports,G={data:function(){return{diarySmDateFormat:null}},methods:{slideBack:function(){this.canSlideBack&&(this.setDiaryDate(l()(this.diarySelectedDay).subtract(1,"days").toDate()),this.onDiarySmDateChanged())},slideForward:function(){this.canSlideForward&&(this.setDiaryDate(l()(this.diarySelectedDay).add(1,"days").toDate()),this.onDiarySmDateChanged())},diarySmDateChanged:function(){var t=new Date(this.diarySmDateFormat),e=!1;l()(t).isValid()?t>this.selectedMaxDate?(t=this.selectedMaxDate,e=!0):t<this.selectedMinDate&&(t=this.selectedMinDate,e=!0):(t=this.diarySelectedDay,e=!0),this.setDiaryDate(t),e&&this.onDiarySmDateChanged()},setDiaryDate:function(t){this.$store.commit("setDiaryDate",t)},onDiarySmDateChanged:function(){var t=this;this.$nextTick(function(){t.diarySmDateFormat=l()(t.diarySelectedDay).format("YYYY-MM-DD")})}},computed:{selectedMinDate:function(){return this.$store.state.mainModule.range.selectedMinDate},selectedMaxDate:function(){return this.$store.state.mainModule.range.selectedMaxDate},diarySelectedDay:function(){return this.$store.state.mainModule.diarySelectedDay},diarySmDateMin:function(){return l()(this.selectedMinDate).format("YYYY-MM-DD")},diarySmDateMax:function(){return l()(this.selectedMaxDate).format("YYYY-MM-DD")},canSlideBack:function(){return l()(this.diarySelectedDay).isAfter(this.selectedMinDate)},canSlideForward:function(){return l()(this.diarySelectedDay).endOf("day").isBefore(this.selectedMaxDate)}},mounted:function(){this.onDiarySmDateChanged(),P.$on("diary-sm-date-changed",this.onDiarySmDateChanged)},beforeDestroy:function(){P.$off("diary-sm-date-changed",this.onDiarySmDateChanged)}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col col-diary-pager mx-auto slide-buttons"},[n("div",{staticClass:"input-group input-group-sm"},[n("div",{staticClass:"input-group-prepend"},[n("button",{staticClass:"btn btn-sm btn-primary btn-slide btn-slide-back",attrs:{type:"button",disabled:!t.canSlideBack},on:{click:t.slideBack}},[n("i",{staticClass:"icon-chevron-left"})])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.diarySmDateFormat,expression:"diarySmDateFormat"}],staticClass:"form-control form-control-sm text-center",attrs:{type:"date",required:"required",min:t.diarySmDateMin,max:t.diarySmDateMax,disabled:!t.canSlideBack&&!t.canSlideForward},domProps:{value:t.diarySmDateFormat},on:{change:t.diarySmDateChanged,input:function(e){e.target.composing||(t.diarySmDateFormat=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-sm btn-primary btn-slide btn-slide-forward",attrs:{type:"button",disabled:!t.canSlideForward},on:{click:t.slideForward}},[n("i",{staticClass:"icon-chevron-right"})])])])])},staticRenderFns:[]},O=n("VU/8")(G,j,!1,null,null,null).exports,N={methods:{getValueInUnit:function(t){var e=V.changeUnit(t.value,this.originalUnit,this.unit).toFixed(1);return"mmol/l"!=this.unit?e:e<t.bgmrangelow?this.bgLowText:e>t.bgmrangehigh?this.bgHighText:e},getInsulinBg:function(t){var e=this.insulinTypes.find(function(e){return e.type==t.type});return e?e.color:null},shortTime:function(t){return V.shortTime(t)}},computed:{unit:function(){return this.$store.state.globalSettingsModule.globalSettings.unit}},props:["cellValues","originalUnit","bgLowText","bgHighText","insulinTypes"]},Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.cellValues,function(e){return n("div",{key:e.key,staticClass:"diary-value-container print-not-break"},[e.value?n("span",{staticClass:"diary-glucose-badge badge-diary-value print-not-break",class:{"text-slow":e.agpIsVeryLow,"text-low":e.agpIsLow,"text-high":e.agpIsHigh,"text-shigh":e.agpIsVeryHigh,"text-target":e.agpIsInTarget},attrs:{title:t._f("shortTime")(e.date)}},[t._v("\n                "+t._s(t.getValueInUnit(e))+"\n                "),e.agpIsVeryLow?n("i",{staticClass:"icon icon-caret-down"}):t._e(),t._v(" "),e.agpIsLow?n("i",{staticClass:"icon icon-angle-down"}):t._e(),t._v(" "),e.agpIsHigh?n("i",{staticClass:"icon icon-angle-up"}):t._e(),t._v(" "),e.agpIsVeryHigh?n("i",{staticClass:"icon icon-caret-up"}):t._e()]):t._e(),t._v(" "),e.unit?n("span",{staticClass:"badge badge-diary-value badge-pill diary-insulin-badge text-white print-not-break",style:"background-color: "+t.getInsulinBg(e),attrs:{title:e.unit+", "+t.shortTime(e.date)+", "+e.duration+"ms"}},[t._v("\n                "+t._s(e.unit)+"\n          ")]):t._e()])}),0)},staticRenderFns:[]},W=n("VU/8")(N,Y,!1,null,null,null).exports,q=function(t,e,n){return n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()&&n.getHours()==e},X={data:function(){return{beginDate:null,isSmallSize:!1}},components:{bloodGlucoseDiaryPager:O,bloodGlucoseDiaryValue:W},methods:{getValuesInHours:function(t,e){return this.glucoseValues&&this.insulinValues?this.glucoseValues.filter(function(n){return q(t,e,n.date)}).concat(this.insulinValues.filter(function(n){return q(t,e,n.date)})).sort(V.sortByDate):[]},isSmallWindow:function(){return window.innerWidth<1024},getInitialBeginDate:function(){return l()(new Date(this.selectedMaxDate)).subtract(3,"weeks").endOf("week").add(1,"days").toDate()},loadNextDays:function(){this.beginDate=l()(this.beginDate).subtract(3,"weeks").toDate()},raiseSmDateChanged:function(){P.$emit("diary-sm-date-changed")},onVResized:function(){this.isSmallSize=this.isSmallWindow()},onRangeChanged:function(){this.beginDate=this.getInitialBeginDate(),this.$store.commit("setDiaryDate",l()(this.selectedMaxDate).startOf("day").toDate()),this.raiseSmDateChanged()}},computed:{currentLanguage:function(){return this.$store.state.globalSettingsModule.globalSettings.currentLanguage},lang:function(){return this.$i18n.t("bloodGlucoseDiary",this.currentLanguage)},selectedMinDate:function(){return this.$store.state.mainModule.range.selectedMinDate},selectedMaxDate:function(){return this.$store.state.mainModule.range.selectedMaxDate},diarySelectedDay:function(){return this.$store.state.mainModule.diarySelectedDay},bgLowText:function(){return this.$i18n.t("bgLowText",this.currentLanguage)},bgHighText:function(){return this.$i18n.t("bgHighText",this.currentLanguage)},moreButtonText:function(){return this.$i18n.t("moreButtonText",this.currentLanguage)},dateFormatterFirstLine:function(){return this.lang.dateFormatterFirstLine},dateFormatterSecondLine:function(){return this.lang.dateFormatterSecondLine},datepickerFormat:function(){return this.$i18n.t("datepickerFormat",this.currentLanguage)},hours:function(){return B()(Array(24).keys())},days:function(){for(var t=[],e=l()(this.selectedMaxDate).startOf("day").toDate();l()(e).isSameOrAfter(this.selectedMinDate);e=V.addDays(e,-1))t.push(e);return t},daysLoaded:function(){var t=this;return this.days.filter(function(e){return V.dayLoaded(t.beginDate,e)})},hasUnloadedDays:function(){return l()(this.beginDate).isAfter(this.selectedMinDate)}},filters:{dateFormat:function(t,e){return l()(t).format(e)}},mounted:function(){this.beginDate=this.getInitialBeginDate(),this.isSmallSize=this.isSmallWindow(),this.diarySelectedDay||(this.$store.commit("setDiaryDate",l()(this.selectedMaxDate).startOf("day").toDate()),this.raiseSmDateChanged()),P.$on("vResized",this.onVResized),P.$on("rangeChanged",this.onRangeChanged)},beforeDestroy:function(){P.$off("vResized",this.onVResized),P.$off("rangeChanged",this.onRangeChanged)},props:["originalUnit","glucoseValues","insulinValues","insulinTypes"]},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t.isSmallSize?t._e():n("div",{staticClass:"diary-table diary-table-hourly"},[n("div",{staticClass:"row diary-table-row row-first sticky-top print-not-break"},[n("div",{staticClass:"col diary-table-column column-first"}),t._v(" "),t._l(t.hours,function(e){return n("div",{key:e,staticClass:"col diary-table-column column-value"},[t._v("\n              "+t._s(e.toString().padStart(2,"0"))+"\n            ")])})],2),t._v(" "),t._l(t.daysLoaded,function(e){return n("div",{key:e.getTime(),staticClass:"row diary-table-row print-not-break",class:{weekend:0==e.getDay()||6==e.getDay()}},[n("div",{staticClass:"col diary-table-column column-first"},[n("div",[t._v("\n                "+t._s(t._f("dateFormat")(e,t.dateFormatterFirstLine))+"\n              ")]),t._v(" "),n("div",[t._v("\n                "+t._s(t._f("dateFormat")(e,t.dateFormatterSecondLine))+"\n              ")])]),t._v(" "),t._l(t.hours,function(i){return n("div",{key:i,staticClass:"col diary-table-column column-value print-not-break"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.getValuesInHours(e,i),"insulin-types":t.insulinTypes,"original-unit":t.originalUnit,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)})],2)}),t._v(" "),n("div",{staticClass:"row d-print-none"},[n("div",{staticClass:"col-12 text-center pt-3"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.hasUnloadedDays,expression:"hasUnloadedDays"}],staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.loadNextDays()}}},[n("i",{staticClass:"icon-refresh"}),t._v("\n                "+t._s(t.moreButtonText)+"\n              ")])])])],2),t._v(" "),t.isSmallSize?n("div",{staticClass:"row diary-sm diary-sm-hourly"},[n("blood-glucose-diary-pager"),t._v(" "),n("div",{staticClass:"col-12 diary-day"},[n("div",{staticClass:"diary-rows"},t._l(t.hours,function(e){return n("div",{key:e,staticClass:"row diary-row"},[n("div",{staticClass:"col-2 diary-column diary-column-hours"},[n("span",[t._v("\n                      "+t._s(e.toString().padStart(2,"0"))+"\n                    ")])]),t._v(" "),n("div",{staticClass:"col-10 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.getValuesInHours(t.diarySelectedDay,e),"insulin-types":t.insulinTypes,"original-unit":t.originalUnit,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)])}),0)])],1):t._e()])])},staticRenderFns:[]},J=n("VU/8")(X,K,!1,null,null,null).exports,Z={data:function(){return{beginDate:null,isSmallSize:!1}},components:{bloodGlucoseDiaryPager:O,bloodGlucoseDiaryValue:W},filters:{dateFormat:function(t,e){return l()(t).format(e)}},methods:{periodFilter:function(t,e,n){if(!this.glucoseValues||!this.insulinValues)return[];var i=l()(t).startOf("day").add(e.getHours(),"hours").add(e.getMinutes(),"minutes").toDate(),a=l()(t).startOf("day").add(n.getHours(),"hours").add(n.getMinutes(),"minutes").toDate();return this.glucoseValues.filter(function(t){return f(t.date,i,a)}).concat(this.insulinValues.filter(function(t){return f(t.date,i,a)})).sort(V.sortByDate)},isSmallWindow:function(){return window.innerWidth<1024},getInitialBeginDate:function(){return l()(new Date(this.selectedMaxDate)).subtract(3,"weeks").endOf("week").add(1,"days").toDate()},loadNextDays:function(){this.beginDate=l()(this.beginDate).subtract(3,"weeks").toDate()},raiseSmDateChanged:function(){P.$emit("diary-sm-date-changed")},onVResized:function(){this.isSmallSize=this.isSmallWindow()},onRangeChanged:function(){this.beginDate=this.getInitialBeginDate(),this.$store.commit("setDiaryDate",l()(this.selectedMaxDate).startOf("day").toDate()),this.raiseSmDateChanged()}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},lang:function(){return this.$i18n.t("bloodGlucoseDiary",this.globalSettings.currentLanguage)},selectedMinDate:function(){return this.$store.state.mainModule.range.selectedMinDate},selectedMaxDate:function(){return this.$store.state.mainModule.range.selectedMaxDate},diarySelectedDay:function(){return this.$store.state.mainModule.diarySelectedDay},bgLowText:function(){return this.$i18n.t("bgLowText",this.globalSettings.currentLanguage)},bgHighText:function(){return this.$i18n.t("bgHighText",this.globalSettings.currentLanguage)},moreButtonText:function(){return this.$i18n.t("moreButtonText",this.globalSettings.currentLanguage)},hasUnloadedDays:function(){return l()(this.beginDate).isAfter(this.selectedMinDate)},days:function(){for(var t=[],e=l()(this.selectedMaxDate).startOf("day").toDate();l()(e).isSameOrAfter(this.selectedMinDate);e=V.addDays(e,-1))t.push(e);return t},daysLoaded:function(){var t=this;return this.days.filter(function(e){return V.dayLoaded(t.beginDate,e)})},dateFormatterFirstLine:function(){return this.lang.dateFormatterFirstLine},dateFormatterSecondLine:function(){return this.lang.dateFormatterSecondLine},datepickerFormat:function(){return this.$i18n.t("datepickerFormat",this.globalSettings.currentLanguage)},mealtime:function(){return this.$store.getters.patientMealtimes},downPeriod:function(){return[new Date(0,0,0),V.addMinutes(new Date(0,0,0,this.mealtime.breakfast.getHours(),this.mealtime.breakfast.getMinutes()),-this.globalSettings.preMealTimeInMinutes)]},breakfastPeriod:function(){var t=new Date(0,0,0,this.mealtime.breakfast.getHours(),this.mealtime.breakfast.getMinutes());return[V.addMinutes(t,-this.globalSettings.preMealTimeInMinutes),t,V.addMinutes(t,this.globalSettings.postMealTimeInMinutes)]},elevensesPeriod:function(){if(this.mealtime.elevenses){var t=new Date(0,0,0,this.mealtime.elevenses.getHours(),this.mealtime.elevenses.getMinutes());return[V.addMinutes(t,-this.globalSettings.preMealTimeInMinutes),t,V.addMinutes(t,this.globalSettings.postMealTimeInMinutes)]}},forenoonPeriod:function(){if(!this.mealtime.elevenses)return[V.addMinutes(new Date(0,0,0,this.mealtime.breakfast.getHours(),this.mealtime.breakfast.getMinutes()),this.globalSettings.postMealTimeInMinutes),V.addMinutes(new Date(0,0,0,this.mealtime.lunch.getHours(),this.mealtime.lunch.getMinutes()),-this.globalSettings.preMealTimeInMinutes)]},lunchPeriod:function(){var t=new Date(0,0,0,this.mealtime.lunch.getHours(),this.mealtime.lunch.getMinutes());return[V.addMinutes(t,-this.globalSettings.preMealTimeInMinutes),t,V.addMinutes(t,this.globalSettings.postMealTimeInMinutes)]},afternoonPeriod:function(){if(!this.mealtime.afternoonsnack)return[V.addMinutes(new Date(0,0,0,this.mealtime.lunch.getHours(),this.mealtime.lunch.getMinutes()),this.globalSettings.postMealTimeInMinutes),V.addMinutes(new Date(0,0,0,this.mealtime.dinner.getHours(),this.mealtime.dinner.getMinutes()),-this.globalSettings.preMealTimeInMinutes)]},afternoonsnackPeriod:function(){if(this.mealtime.afternoonsnack){var t=new Date(0,0,0,this.mealtime.afternoonsnack.getHours(),this.mealtime.afternoonsnack.getMinutes());return[V.addMinutes(t,-this.globalSettings.preMealTimeInMinutes),t,V.addMinutes(t,this.globalSettings.postMealTimeInMinutes)]}},dinnerPeriod:function(){var t=new Date(0,0,0,this.mealtime.dinner.getHours(),this.mealtime.dinner.getMinutes());return[V.addMinutes(t,-this.globalSettings.preMealTimeInMinutes),t,V.addMinutes(t,this.globalSettings.postMealTimeInMinutes)]},eveningPeriod:function(){return[V.addMinutes(new Date(0,0,0,this.mealtime.dinner.getHours(),this.mealtime.dinner.getMinutes()),this.globalSettings.postMealTimeInMinutes),new Date(0,0,0)]},showAfternoon1:function(){return this.mealtime.afternoonsnack&&this.lunchPeriod[2]<this.afternoonsnackPeriod[0]},showAfternoon2:function(){return this.mealtime.afternoonsnack&&this.afternoonsnackPeriod[2]<this.dinnerPeriod[0]}},mounted:function(){this.isSmallSize=this.isSmallWindow(),this.beginDate=this.getInitialBeginDate(),this.diarySelectedDay||(this.$store.commit("setDiaryDate",l()(this.selectedMaxDate).startOf("day").toDate()),this.raiseSmDateChanged()),P.$on("vResized",this.onVResized),P.$on("rangeChanged",this.onRangeChanged)},beforeDestroy:function(){P.$off("vResized",this.onVResized),P.$off("rangeChanged",this.onRangeChanged)},props:["glucoseValues","insulinValues","insulinTypes","originalUnit"]},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t.isSmallSize?t._e():n("div",{staticClass:"diary-table diary-table-mealtime"},[n("div",{staticClass:"row diary-table-row row-first sticky-top print-not-break"},[n("div",{staticClass:"col diary-table-column column-first"}),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.down)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.downPeriod[0]))+" - "+t._s(t._f("shortTime")(t.downPeriod[1]))+"\n          ")])]),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.beforeBreakfast)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.breakfastPeriod[0]))+" - "+t._s(t._f("shortTime")(t.breakfastPeriod[1]))+"\n          ")])]),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.afterBreakfast)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.breakfastPeriod[1]))+" - "+t._s(t._f("shortTime")(t.breakfastPeriod[2]))+"\n          ")])]),t._v(" "),t.mealtime.elevenses?t._e():n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.forenoon)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.forenoonPeriod[0]))+" - "+t._s(t._f("shortTime")(t.forenoonPeriod[1]))+"\n          ")])]),t._v(" "),t.mealtime.elevenses&&t.breakfastPeriod[2]<t.elevensesPeriod[0]?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"}),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.breakfastPeriod[2]))+" - "+t._s(t._f("shortTime")(t.elevensesPeriod[0]))+"\n          ")])]):t._e(),t._v(" "),t.mealtime.elevenses?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.beforeElevenses)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.elevensesPeriod[0]))+" - "+t._s(t._f("shortTime")(t.elevensesPeriod[1]))+"\n          ")])]):t._e(),t._v(" "),t.mealtime.elevenses?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.afterElevenses)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.elevensesPeriod[1]))+" - "+t._s(t._f("shortTime")(t.elevensesPeriod[2]))+"\n          ")])]):t._e(),t._v(" "),t.mealtime.elevenses&&t.elevensesPeriod[2]<t.lunchPeriod[0]?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"}),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.elevensesPeriod[2]))+" - "+t._s(t._f("shortTime")(t.lunchPeriod[0]))+"\n          ")])]):t._e(),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.beforeLunch)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.lunchPeriod[0]))+" - "+t._s(t._f("shortTime")(t.lunchPeriod[1]))+"\n          ")])]),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.afterLunch)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.lunchPeriod[1]))+" - "+t._s(t._f("shortTime")(t.lunchPeriod[2]))+"\n          ")])]),t._v(" "),t.mealtime.afternoonsnack?t._e():n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.afternoon)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.afternoonPeriod[0]))+" - "+t._s(t._f("shortTime")(t.afternoonPeriod[1]))+"\n          ")])]),t._v(" "),t.showAfternoon1?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"}),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.lunchPeriod[2]))+" - "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[0]))+"\n          ")])]):t._e(),t._v(" "),t.mealtime.afternoonsnack?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.beforeAfternoonsnack)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[0]))+" - "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[1]))+"\n          ")])]):t._e(),t._v(" "),t.mealtime.afternoonsnack?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.afterAfternoonsnack)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[1]))+" - "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[2]))+"\n          ")])]):t._e(),t._v(" "),t.showAfternoon2?n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"}),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[2]))+" - "+t._s(t._f("shortTime")(t.dinnerPeriod[0]))+"\n          ")])]):t._e(),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.beforeDinner)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.dinnerPeriod[0]))+" - "+t._s(t._f("shortTime")(t.dinnerPeriod[1]))+"\n          ")])]),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.afterDinner)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.dinnerPeriod[1]))+" - "+t._s(t._f("shortTime")(t.dinnerPeriod[2]))+"\n          ")])]),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("div",{staticClass:"header-period first-line"},[t._v("\n            "+t._s(t.lang.evening)+"\n          ")]),t._v(" "),n("div",{staticClass:"header-period"},[t._v("\n            "+t._s(t._f("shortTime")(t.eveningPeriod[0]))+" - "+t._s(t._f("shortTime")(t.eveningPeriod[1]))+"\n          ")])])]),t._v(" "),t._l(t.daysLoaded,function(e){return n("div",{key:e.getTime(),staticClass:"row diary-table-row print-not-break",class:{weekend:0==e.getDay()||6==e.getDay()}},[n("div",{staticClass:"col diary-table-column column-first"},[n("div",[t._v("\n            "+t._s(t._f("dateFormat")(e,t.dateFormatterFirstLine))+"\n          ")]),t._v(" "),n("div",[t._v("\n            "+t._s(t._f("dateFormat")(e,t.dateFormatterSecondLine))+"\n          ")])]),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.downPeriod[0],t.downPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.breakfastPeriod[0],t.breakfastPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.breakfastPeriod[1],t.breakfastPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),t.mealtime.elevenses?t._e():n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.forenoonPeriod[0],t.forenoonPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),t.mealtime.elevenses&&t.breakfastPeriod[2]<t.elevensesPeriod[0]?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.breakfastPeriod[2],t.elevensesPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),t.mealtime.elevenses?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.elevensesPeriod[0],t.elevensesPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),t.mealtime.elevenses?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.elevensesPeriod[1],t.elevensesPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),t.mealtime.elevenses&&t.elevensesPeriod[2]<t.lunchPeriod[0]?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.elevensesPeriod[2],t.lunchPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.lunchPeriod[0],t.lunchPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.lunchPeriod[1],t.lunchPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),t.mealtime.afternoonsnack?t._e():n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.afternoonPeriod[0],t.afternoonPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),t.showAfternoon1?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.lunchPeriod[2],t.afternoonsnackPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),t.mealtime.afternoonsnack?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.afternoonsnackPeriod[0],t.afternoonsnackPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),t.mealtime.afternoonsnack?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.afternoonsnackPeriod[1],t.afternoonsnackPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),t.showAfternoon2?n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.afternoonsnackPeriod[2],t.dinnerPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1):t._e(),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.dinnerPeriod[0],t.dinnerPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.dinnerPeriod[1],t.dinnerPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1),t._v(" "),n("div",{staticClass:"col diary-table-column"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(e,t.eveningPeriod[0],new Date(0,0,0,23,59,59,990)),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)])}),t._v(" "),n("div",{staticClass:"row d-print-none"},[n("div",{staticClass:"col-12 text-center pt-3"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.hasUnloadedDays,expression:"hasUnloadedDays"}],staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.loadNextDays()}}},[n("i",{staticClass:"icon-refresh"}),t._v("\n            "+t._s(t.moreButtonText)+"\n          ")])])])],2),t._v(" "),t.isSmallSize?n("div",{staticClass:"row diary-sm diary-sm-mealtime"},[n("blood-glucose-diary-pager"),t._v(" "),n("div",{staticClass:"col-12 diary-day"},[n("div",{staticClass:"diary-rows"},[n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.down)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.downPeriod[0]))+" - "+t._s(t._f("shortTime")(t.downPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.downPeriod[0],t.downPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.beforeBreakfast)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.breakfastPeriod[0]))+" - "+t._s(t._f("shortTime")(t.breakfastPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.breakfastPeriod[0],t.breakfastPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.afterBreakfast)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.breakfastPeriod[1]))+" - "+t._s(t._f("shortTime")(t.breakfastPeriod[2]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.breakfastPeriod[1],t.breakfastPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),t.mealtime.elevenses?t._e():n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.forenoon)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.forenoonPeriod[0]))+" - "+t._s(t._f("shortTime")(t.forenoonPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.forenoonPeriod[0],t.forenoonPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),t.mealtime.elevenses&&t.breakfastPeriod[2]<t.elevensesPeriod[0]?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div"),t._v("\n                  "+t._s(t._f("shortTime")(t.breakfastPeriod[2]))+" - "+t._s(t._f("shortTime")(t.elevensesPeriod[0]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.breakfastPeriod[2],t.elevensesPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),t.mealtime.elevenses?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.beforeElevenses)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.elevensesPeriod[0]))+" - "+t._s(t._f("shortTime")(t.elevensesPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.elevensesPeriod[0],t.elevensesPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),t.mealtime.elevenses?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.afterElevenses)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.elevensesPeriod[1]))+" - "+t._s(t._f("shortTime")(t.elevensesPeriod[2]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.elevensesPeriod[1],t.elevensesPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),t.mealtime.elevenses&&t.elevensesPeriod[2]<t.lunchPeriod[0]?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div"),t._v("\n                  "+t._s(t._f("shortTime")(t.elevensesPeriod[2]))+" - "+t._s(t._f("shortTime")(t.lunchPeriod[0]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.elevensesPeriod[2],t.lunchPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.beforeLunch)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.lunchPeriod[0]))+" - "+t._s(t._f("shortTime")(t.lunchPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.lunchPeriod[0],t.lunchPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.afterLunch)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.lunchPeriod[1]))+" - "+t._s(t._f("shortTime")(t.lunchPeriod[2]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.lunchPeriod[1],t.lunchPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),t.mealtime.afternoonsnack?t._e():n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.afternoon)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.afternoonPeriod[0]))+" - "+t._s(t._f("shortTime")(t.afternoonPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.afternoonPeriod[0],t.afternoonPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),t.showAfternoon1?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div"),t._v("\n                  "+t._s(t._f("shortTime")(t.lunchPeriod[2]))+" - "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[0]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.lunchPeriod[2],t.afternoonsnackPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),t.mealtime.afternoonsnack?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.beforeAfternoonsnack)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[0]))+" - "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.afternoonsnackPeriod[0],t.afternoonsnackPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),t.mealtime.afternoonsnack?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.afterAfternoonsnack)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[1]))+" - "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[2]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.afternoonsnackPeriod[1],t.afternoonsnackPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),t.showAfternoon2?n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div"),t._v("\n                  "+t._s(t._f("shortTime")(t.afternoonsnackPeriod[2]))+" - "+t._s(t._f("shortTime")(t.dinnerPeriod[0]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.afternoonsnackPeriod[2],t.dinnerPeriod[0]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.beforeDinner)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.dinnerPeriod[0]))+" - "+t._s(t._f("shortTime")(t.dinnerPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.dinnerPeriod[0],t.dinnerPeriod[1]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.afterDinner)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.dinnerPeriod[1]))+" - "+t._s(t._f("shortTime")(t.dinnerPeriod[2]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.dinnerPeriod[1],t.dinnerPeriod[2]),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)]),t._v(" "),n("div",{staticClass:"row diary-row"},[n("div",{staticClass:"col-5 diary-column diary-column-hours"},[n("span",[n("div",[t._v("\n                    "+t._s(t.lang.evening)+"\n                  ")]),t._v("\n                  "+t._s(t._f("shortTime")(t.eveningPeriod[0]))+" - "+t._s(t._f("shortTime")(t.eveningPeriod[1]))+"\n                ")])]),t._v(" "),n("div",{staticClass:"col-7 diary-column diary-column-values align-self-center"},[n("blood-glucose-diary-value",{attrs:{"cell-values":t.periodFilter(t.diarySelectedDay,t.eveningPeriod[0],new Date(0,0,0,23,59,59,999)),"original-unit":t.originalUnit,"insulin-types":t.insulinTypes,"bg-low-text":t.bgLowText,"bg-high-text":t.bgHighText}})],1)])])])],1):t._e()])])},staticRenderFns:[]},tt=n("VU/8")(Z,Q,!1,null,null,null).exports,et=n("//Fk"),nt=n.n(et),it={data:function(){return{chart:null,loading:!0,printView:!1}},methods:{draw:function(){var t=this;return p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.printView){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new nt.a(function(e){t.noData?(t.loading=!1,e()):(t.dispose(),t.chart=new google.visualization.ComboChart(t.$el.getElementsByClassName("chart")[0]),google.visualization.events.addListener(t.chart,"ready",function(){t.loading=!1,e()}),setTimeout(function(){t.chart&&(t.loading=!0,t.chart.draw(t.chartData,t.chartOptions))},10*(Math.floor(7*Math.random())+3)))}));case 3:case"end":return e.stop()}},e,t)}))()},invalidate:function(){var t=this;this.$nextTick(function(){google.charts.setOnLoadCallback(p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.draw();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)})))})},dispose:function(){this.chart&&(this.chart.clearChart(),this.chart=null)},onGlobalSettingsUpdated:function(t){var e=!1;if((t.difference.dgpChartType||t.difference.displayNonMeasurableValues||t.difference.unit||t.difference.colorBasal||t.difference.colorBolus||t.difference.colorMix||t.difference.viewMode||t.difference.curveType)&&(e=!0),!e)for(var n in t.difference)n.indexOf("insulinType-")>-1&&(e=!0);e&&this.invalidate(),e=null},onPrint:function(t){this.printView="open"==t}},mounted:function(){this.invalidate(),P.$on("vResized",this.invalidate),P.$on("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$on("print",this.onPrint)},beforeDestroy:function(){this.dispose(),P.$off("vResized",this.invalidate),P.$off("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$off("print",this.onPrint)},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},isDcmView:function(){return"DCMView"==this.globalSettings.viewMode},chartData:function(){var t=this;if(!this.noData){var e=new google.visualization.DataTable;e.addColumn("datetime","Time"),e.addColumn("number","Glucose values"),e.addColumn({type:"string",role:"tooltip"}),this.isDcmView&&(e.addColumn("number","Insulin values"),e.addColumn({type:"string",role:"tooltip"}),e.addColumn({type:"string",role:"style"})),e.addColumn("number",""),e.addColumn({type:"string",role:"tooltip"}),e.addColumn("number","Target Range"),e.addColumn({type:"string",role:"tooltip"});var n=[new Date(0,0,0),null,null],i=[new Date(0,0,0,23,59,59,999),null,null];this.isDcmView&&(n.push(null,null,null),i.push(null,null,null));var a=V.round(L[this.globalSettings.unit].lowLimit,1),s=V.round(L[this.globalSettings.unit].highLimit,1);if(n.push(a,a.toString(),s,s.toString()),i.push(a,a.toString(),s,s.toString()),e.addRows([n,i]),this.glucoseValues&&this.glucoseValues.forEach(function(n){var i=V.changeUnit(n.value,t.originalUnit,t.globalSettings.unit),a=n.date,s=new Date(0,0,0,a.getHours(),a.getMinutes()),l=[s,i,a.getHours()+":"+a.getMinutes()+", "+V.round(i,1)+" "+t.globalSettings.unit];t.isDcmView&&l.push(null,null,null),l.push(null,null,null,null),e.addRow(l),s=null,a=null,i=null}),this.isDcmView){this.insulinValues.forEach(function(n){var i=new Date(0,0,0,n.date.getHours(),n.date.getMinutes()),a=t.insulinTypes.find(function(t){return t.type==n.type}),s=a?"bar { fill-color: "+a.color+" }":null;e.addRow([i,null,null,n.unit,n.unit.toString()+", "+l()(i).format("HH:mm"),s,null,null,null,null]),i=null});for(var r=0;r<24;r++)e.addRow([new Date(0,0,0,r,0),null,null,0,null,"bar { fill-color: transparent }",null,null,null,null])}return e}},noData:function(){return!this.glucoseValues.length&&!this.insulinValues.length},lang:function(){return this.$i18n.t("dpgCharts",this.globalSettings.currentLanguage)},loadingText:function(){return this.$i18n.t("loadingText",this.globalSettings.currentLanguage)}},props:["glucoseValues","insulinValues","insulinTypes","originalUnit","chartOptions"]},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[!t.loading&&t.noData?n("small",{staticClass:"text-center d-block",staticStyle:{color:"#e3e3e3","line-height":"60px"}},[t._v("\n    "+t._s(t.lang.noData)+"\n  ")]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"dgp-loading"},[n("div",{staticClass:"spinner-border",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v(t._s(t.loadingText))])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.printView,expression:"!printView"}],staticClass:"chart"})])},staticRenderFns:[]},st={data:function(){return{chartMinHeight:450,chart:null,print:!1,finishedDrawing:!1}},methods:{draw:function(){var t=this;return p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new nt.a(function(e){if(t.noData)return e();t.finishedDrawing=!1,t.chart=new google.visualization.ComboChart(document.getElementById("custom-dialog-chart-area")),google.visualization.events.addListener(t.chart,"ready",function(){t.finishedDrawing=!0,e()}),t.chart.draw(t.lineChartData,t.lineChartOptions)}));case 1:case"end":return e.stop()}},e,t)}))()},invalidate:function(){var t=this;this.dispose(),this.$nextTick(function(){google.charts.setOnLoadCallback(p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.draw();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)})))})},dispose:function(){this.chart&&(this.chart.clearChart(),this.chart=null)},getInsulinTypeSeries:function(t,e){var n=this.insulinTypes.find(function(e){return e.type==t});return n?o()({},e,{color:n.color}):e},addItemToAvg:function(t,e,n){var i=t.find(function(t){return V.dateEquals(t.date,e.date)});i||(i={date:l()(e.date).startOf("day").toDate(),hours:this.hours.map(function(t){return{hour:t,sum:0,count:0}})},t.push(i));var a=i.hours.find(function(t){return t.hour==e.date.getHours()});a.sum+=e[n],a.count++},mapAverage:function(t,e){var n=this;t.hours=t.hours.filter(function(t){return t.count}).map(function(t){var i=t.sum/t.count;return e&&(i=V.changeUnit(i,n.originalUnit,n.globalSettings.unit)),{hour:t.hour,avg:i,avgFormat:i.toFixed(1)}})},getInsulinBrandGroup:function(t,e,n){var i=t.find(function(t){return t.name==e.name});return i||((i={name:e.name})[n]=[],t.push(i)),i},getInsulinColor:function(t){var e=this.insulinTypes.find(function(e){return e.type==t});return e?e.color:null},onPrint:function(t){this.print=t.open}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},lang:function(){return this.$i18n.t("dgpCustomChart",this.globalSettings.currentLanguage)},daysText:function(){return this.$i18n.t("days",this.globalSettings.currentLanguage)},daysSelectedText:function(){return this.$i18n.t("daysSelected",this.globalSettings.currentLanguage)},datepickerFormat:function(){return this.$i18n.t("datepickerFormat",this.globalSettings.currentLanguage)},insulinUnitTitle:function(){return this.$i18n.t("insulinUnitTitle",this.globalSettings.currentLanguage)},insulinUnitShort:function(){return this.$i18n.t("insulinUnitShort",this.globalSettings.currentLanguage)},hours:function(){return B()(Array(24).keys())},hours24:function(){return this.hours.concat(24)},noData:function(){return!this.insulinValues.length&&!this.glucoseValues.length},sortedSelectedDays:function(){return this.selectedDays.sort(function(t,e){return t<e?-1:1})},selectedDaysCount:function(){return this.selectedDays.length},selectedDaysFormatted:function(){var t=this;return this.sortedSelectedDays.map(function(e){return l()(e).format(t.datepickerFormat)})},sdChartData:function(){var t=this,e=[[{type:"number"},{label:this.lang.glucoseSdLegend,type:"number"},{type:"number"},{type:"number"},{type:"number"},{role:"tooltip"}]],n=[];this.insulinBrands.forEach(function(t){e[0].push({label:t.name,type:"number"},{role:"tooltip"}),n.push(null,null)}),this.glucoseHourlyAvgAndSD.forEach(function(i){e.push([i.hour+.5,i.sdMin,i.avg,i.avg,i.sdMax,t.lang.avgTooltip+": "+i.avgFormat+" | "+t.lang.sdTooltip+": "+i.sdFormat].concat(n))});var i=[null,null,null,null,null];return this.insulinBrands.forEach(function(a,s){var l=t.insulinValuesByHours.find(function(t){return t.name==a.name});if(l){var r=s*t.insulinDivider;t.insulinDivider;l.hours.forEach(function(a){for(var l=[].concat(i),o=[].concat(i),u=[].concat(i).concat(n),c=a.avgFormat+" "+t.insulinUnitShort+"\r\n"+a.daysCount+" "+t.daysText,d=0;d<t.insulinBrands.length;d++)d==s?(l.push(a.avg,c),o.push(a.avg,c)):(l.push(null,null),o.push(null,null));if(l.some(function(t){return!!t})||o.some(function(t){return!!t})){var g=a.hour+r;l.unshift(g);var h=g+t.insulinDivider*(a.daysCount/t.selectedDaysCount);o.unshift(h),u.unshift(h),e.push(l,o,u)}})}}),google.visualization.arrayToDataTable(e)},sdChartOptions:function(){var t=this,e={type:"area",areaOpacity:1,targetAxisIndex:1,visibleInLegend:!1},n={0:{color:"#3f78aa",pointSize:10,visibleInLegend:!!this.glucoseValues.length}},i=1;return this.insulinBrands.forEach(function(a){n[i++]=t.getInsulinTypeSeries(a.type,e)}),o()({},this.commonChartOptions,{seriesType:"candlesticks",bar:{groupWidth:12},candlestick:{fallingColor:{strokeWidth:0},risingColor:{strokeWidth:0}},vAxis:{format:"0.0"},series:n})},lineChartData:function(){var t=this,e=[["Hours"]],n=[];return this.sortedSelectedDays.forEach(function(i){e[0].push({label:l()(i).format(t.datepickerFormat),type:"number"},{role:"tooltip"}),n.push(null,null)}),this.insulinBrands.forEach(function(n){t.sortedSelectedDays.forEach(function(i){e[0].push({label:l()(i).format(t.datepickerFormat)+" "+n.name,type:"number"},{role:"tooltip"})})}),this.hours.forEach(function(i){var a=[i+.5].concat(n);t.insulinBrands.forEach(function(){a=a.concat(n)}),e.push(a)}),this.sortedSelectedDays.forEach(function(n,i){var a=l()(n).format(t.datepickerFormat),s=t.glucoseHourlyAvgByDays.find(function(t){return V.dateEquals(t.date,n)});s&&s.hours.forEach(function(n){e[n.hour+1][2*i+1]=n.avg,e[n.hour+1][2*i+2]=n.avgFormat+" "+t.globalSettings.unit+"\r\n"+a})}),this.insulinBrands.forEach(function(n,i){var a=t.insulinHourlyAvgByDays.find(function(t){return t.name==n.name});a&&t.sortedSelectedDays.forEach(function(n,s){var r=l()(n).format(t.datepickerFormat),o=a.days.find(function(t){return V.dateEquals(t.date,n)}),u=2*(s+t.selectedDaysCount*(i+1))+1;o&&o.hours.forEach(function(n){e[n.hour+1][u]=n.avg,e[n.hour+1][u+1]=n.avgFormat+" "+t.insulinUnitShort+"\r\n"+r})})}),google.visualization.arrayToDataTable(e.filter(function(t,e){return t.slice(1).some(function(t){return t})}))},lineChartOptions:function(){var t=this,e=0,n={};return this.sortedSelectedDays.forEach(function(){n[e++]={type:"line",curveType:"function",lineWidth:2,pointSize:5,targetAxisIndex:0}}),this.insulinBrands.forEach(function(i){var a=t.insulinTypes.find(function(t){return t.type==i.type});a&&t.sortedSelectedDays.forEach(function(){n[e++]={color:a.color,visibleInLegend:!1}})}),o()({},this.commonChartOptions,{seriesType:"bars",bar:{groupWidth:"100%"},interpolateNulls:!0,curveType:"function",targetAxisIndex:1,series:n,vAxis:{format:"0.0"}})},legendMaxlines:function(){return this.selectedDays.length>18?3:this.selectedDays.length>8?2:1},legendFontSize:function(){return this.selectedDays.length>27?8:this.selectedDays.length>12?9:10},chartTop:function(){return this.selectedDays.length>18?60:this.selectedDays.length>8?40:20},commonChartOptions:function(){return{async:!0,legend:{maxLines:this.legendMaxlines,position:"top",textStyle:{fontSize:this.legendFontSize}},chartArea:{top:this.chartTop,left:80,right:80,bottom:20},height:this.chartMinHeight,hAxis:{ticks:this.hours24},vAxes:{0:{title:this.globalSettings.unit,titleTextStyle:{bold:!0,italic:!1}},1:{title:this.insulinUnitTitle,titleTextStyle:{bold:!0,italic:!1}}}}},glucoseHourlyAvgAndSD:function(){return this.glucoseValues.reduce(function(t,e){var n=t.find(function(t){return t.hour==e.date.getHours()});return n&&n.items.push(e),t},this.hours.map(function(t){return{hour:t,items:[]}})).filter(function(t){return t.items.length}).map(function(t){var e=t.items.length,n=NaN,i=NaN;return e&&(n=t.items.reduce(function(t,e){return t+e.value},0)/e,i=Math.sqrt(t.items.reduce(function(t,e){return t+Math.pow(Math.abs(e.value-n),2)},0)/e)),{hour:t.hour,avg:n,avgFormat:n.toFixed(1),sd:i,sdFormat:i.toFixed(1),sdMin:n-i,sdMax:n+i}}).sort(function(t,e){return t.hour<e.hour?-1:1})},glucoseHourlyAvgByDays:function(){var t=this,e=this.glucoseValues.reduce(function(e,n){return t.addItemToAvg(e,n,"value"),e},[]);return e.sort(V.sortByDate).forEach(function(e){return t.mapAverage(e,!0)}),e},insulinValuesByHours:function(){var t=this,e=this.insulinValues.reduce(function(e,n){var i=t.getInsulinBrandGroup(e,n,"hours"),a=n.date.getHours(),s=i.hours.find(function(t){return t.hour==a});return s||(s={hour:a,days:[],sum:0},i.hours.push(s)),s.days.find(function(t){return V.dateEquals(t,n.date)})||s.days.push(n.date),s.sum+=n.unit,e},[]);return e.forEach(function(e){e.hours.forEach(function(e){e.avg=e.sum/t.selectedDaysCount,e.avgFormat=e.avg.toFixed(1),e.daysCount=e.days.length,delete e.sum,delete e.days})}),e},insulinHourlyAvgByDays:function(){var t=this,e=this.insulinValues.reduce(function(e,n){var i=t.getInsulinBrandGroup(e,n,"days");return t.addItemToAvg(i.days,n,"unit"),e},[]);return e.forEach(function(e){e.days.sort(V.sortByDate).forEach(function(e){return t.mapAverage(e)})}),e},insulinDivider:function(){return 1/this.insulinBrands.length},printImage:function(){if(this.finishedDrawing&&this.chart)return this.chart.getImageURI()}},mounted:function(){P.$on("dgp-custom-chart-show",this.invalidate),P.$on("print-dgp-dialog",this.onPrint)},beforeDestroy:function(){this.dispose(),P.$off("dgp-custom-chart-show",this.invalidate),P.$off("print-dgp-dialog",this.onPrint)},props:["glucoseValues","insulinValues","insulinTypes","insulinBrands","selectedDays","originalUnit"]},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.print&&!t.noData,expression:"!print && !noData"}],staticClass:"d-print-none",style:"min-height: "+t.chartMinHeight+"px",attrs:{id:"custom-dialog-chart-area"}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.print&&!t.noData,expression:"print && !noData"}],staticClass:"w-100",attrs:{src:t.printImage}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],staticClass:"row"},[n("div",{staticClass:"col-12 text-center"},[t.insulinBrands.length?n("ul",{staticClass:"list-inline dpg-dialog-insulin-legend"},t._l(t.insulinBrands,function(e){return n("li",{key:e.name,staticClass:"list-inline-item dpg-dialog-insulin-legend-item"},[n("span",{style:"background-color:"+t.getInsulinColor(e.type)}),t._v("\n          "+t._s(e.name)+"\n        ")])}),0):t._e()])]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],staticClass:"text-muted text-center p-3"},[t._v("\n    "+t._s(t.lang.noDataText)+"\n  ")])])},staticRenderFns:[]},rt=function(t){return c()(t).map(function(e){return{date:e,values:t[e]}})},ot=function(t,e){return e.filter(function(e){return l()(e).isBefore(t.date)&&l()(e).add(1,"days").isAfter(t.date)}).length},ut={data:function(){return{chartsBeginDate:null,selectableDaysCount:31,selectedDays:[],resetOnResize:!0,weekStartDayIndex:0,weeks:[]}},components:{dgpChart:n("VU/8")(it,at,!1,null,null,null).exports,dgpCustomChart:n("VU/8")(st,lt,!1,null,null,null).exports},methods:{getInitialChartsBeginDate:function(){var t=l()(this.selectedMaxDate).subtract(window.innerWidth<768?1:3,"weeks").startOf("week");return t.isBefore(this.selectedMinDate)&&(t=l()(this.selectedMinDate)),t.toDate()},calculateWeekStartDayIndex:function(){this.weekStartDayIndex=l()().startOf("week").day()},calculateWeeks:function(){var t=l()(this.selectedMaxDate).endOf("week").startOf("day"),e=l()(this.chartsBeginDate).startOf("week");this.weeks=[];for(var n=t.startOf("week").toDate();l()(e).isSameOrBefore(n);n=l()(n).subtract(1,"weeks").toDate()){for(var i=[],a=0;a<=6;a++)i.push(l()(n).add(a,"days").toDate());this.weeks.push(i)}},showDialog:function(){this.$refs["custom-dgp-dialog-modal"].show()},selectDay:function(t){this.onDaySelection(t,this.warnDaySelection)},onDaySelection:function(t,e){this.isDcmView&&(this.isDaySelected(t)?this.selectedDays=this.selectedDays.filter(function(e){return!V.dateEquals(e,t)}):this.selectedDays.length<this.selectableDaysCount?this.selectedDays.push(t):e())},selectGivenDays:function(t){var e=this;if(this.isDcmView){var n=!0;t.forEach(function(t){e.onDaySelection(t,function(){n&&(e.$nextTick(function(){e.warnDaySelection()}),n=!1)})})}},warnDaySelection:function(){alert(this.lang.daySelectionWarnMessage.replace("{0}",this.selectableDaysCount))},selectWeek:function(t){var e=this;if(this.isDcmView){var n=t.filter(function(t){return f(t,e.selectedMinDate,e.selectedMaxDate)}),i=n.filter(function(t){return!e.isDaySelected(t)});this.selectGivenDays(i.length?i.filter(function(t){return f(t,e.selectedMinDate,e.selectedMaxDate)}):n)}},selectDaysRepeatedly:function(t){var e=this;if(this.isDcmView){var n=l()(this.selectedMinDate).startOf("week").toDate(),i=t-n.getDay();-1==i&&(i=6);var a=l()(n).add(i,"days");for(a.isBefore(this.selectedMinDate)&&(a=a.add(1,"weeks"));a.isBefore(this.chartsBeginDate);)a=a.add(1,"weeks");for(var s=[],r=a;r.isSameOrBefore(this.selectedMaxDate);r=r.add(1,"weeks"))s.push(r.toDate());a=null;var o=s.filter(function(t){return!e.isDaySelected(t)});this.selectGivenDays(o.length?o:s)}},isDaySelected:function(t){return this.selectedDays.filter(function(e){return l()(e).isSame(t)}).length},clearSelection:function(){this.selectedDays=[]},loadNextPeriod:function(){this.chartsBeginDate=l()(this.chartsBeginDate).subtract(window.innerWidth<768?1:3,"weeks").toDate(),l()(this.selectedMinDate).isAfter(this.chartsBeginDate)&&(this.chartsBeginDate=new Date(this.selectedMinDate)),this.calculateWeeks()},isBetween:function(t){return l()(t).isSameOrAfter(this.chartsBeginDate)&&l()(t).isSameOrBefore(this.selectedMaxDate)},valuesForDay:function(t,e){var n=(t?this.valuesByDays.glucoseValues:this.valuesByDays.insulinValues).filter(function(t){return V.dateEquals(e,new Date(t.date))})[0];return n?n.values:[]},resetSettings:function(){this.chartsBeginDate=this.getInitialChartsBeginDate(),this.calculateWeekStartDayIndex(),this.clearSelection(),this.calculateWeeks()},getDayColumnOrder:function(t){var e=t-this.weekStartDayIndex;return 7-(-1==e?6:e)},closeCustomDgpModal:function(){this.isDcmView&&this.$refs["custom-dgp-dialog-modal"].hide(),P.$emit("print-dgp-dialog",{open:!1})},onRangeChanged:function(){var t=this;this.$nextTick(function(){t.resetSettings(),t.calculateWeeks()})},onGlobalSettingsUpdated:function(t){var e=!1;if((t.difference.dgpChartType||t.difference.displayNonMeasurableValues||t.difference.currentLanguage)&&(e=!0),t.difference.currentLanguage&&(this.clearSelection(),this.calculateWeekStartDayIndex(),this.calculateWeeks()),!e)for(var n in t.difference)n.indexOf("insulinType-")>-1&&(e=!0);e&&this.resetSettings()},onVResized:function(){this.resetOnResize&&(this.closeCustomDgpModal(),this.resetSettings(),this.calculateWeeks())},modalShown:function(t,e){P.$emit("dgp-custom-chart-show",this.invalidate)},printContent:function(){var t=this;P.$emit("print-dgp-dialog",{open:!0}),this.$nextTick(function(){V.openNewPrintWindow({title:t.modalTitle,body:t.$refs["print-content"].outerHTML,includeCss:!0,closeAfterPrint:!0})})}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},selectedMinDate:function(){return this.$store.state.mainModule.range.selectedMinDate},selectedMaxDate:function(){return this.$store.state.mainModule.range.selectedMaxDate},isDcmView:function(){return"DCMView"==this.globalSettings.viewMode},filteredGlucoseValuesBySelection:function(){var t=this;if(this.isDcmView)return this.glucoseValues.filter(function(e){return ot(e,t.selectedDays)})},filteredInsulinValuesBySelection:function(){var t=this;if(this.isDcmView)return this.insulinValues.filter(function(e){return ot(e,t.selectedDays)})},lang:function(){return this.$i18n.t("dpgCharts",this.globalSettings.currentLanguage)},modalTitle:function(){return this.lang.modalTitle.replace("{0}",this.$store.getters.getPatientName(this.globalSettings.currentLanguage))},moreButtonText:function(){return this.$i18n.t("moreButtonText",this.globalSettings.currentLanguage)},daysSelectedText:function(){return this.$i18n.t("daysSelected",this.globalSettings.currentLanguage)},weekDays:function(){for(var t=[],e=this.weekStartDayIndex;e<this.weekStartDayIndex+7;e++)t.push(e%7);return t},datepickerFormat:function(){return this.$i18n.t("datepickerFormat",this.globalSettings.currentLanguage)},hasUnloadedWeeks:function(){return l()(this.chartsBeginDate).isAfter(this.selectedMinDate)},valuesByDays:function(){return{glucoseValues:rt(this.glucoseValues.reduce(y,{})),insulinValues:rt(this.insulinValues.reduce(y,{}))}},dgpChartOptions:function(){var t={0:{textPosition:"none",gridlines:{color:"transparent"},baselineColor:"transparent",maxValue:this.dailyChartsVMax,minValue:0}};this.isDcmView&&(t[1]={textPosition:"none",baselineColor:"transparent",gridlines:{color:"transparent"}});var e={0:{type:this.globalSettings.dgpChartType,color:"#555",curveType:"line"==this.globalSettings.dgpChartType?this.globalSettings.curveType:null}},n=1;return this.isDcmView&&(e[n++]={lineWidth:1,targetAxisIndex:1}),e[n++]={color:"transparent",lineWidth:1,pointSize:0,type:"area"},e[n++]={color:"#888",lineWidth:0,pointSize:0,type:"area"},{async:!0,allowAsync:!0,chartArea:{width:"100%"},height:80,pointSize:4,pointShape:"diamond",legend:{position:"none"},seriesType:"bars",isStacked:!0,hAxis:{ticks:[new Date(0,0,0),new Date(0,0,0,4),new Date(0,0,0,8),new Date(0,0,0,12),new Date(0,0,0,16),new Date(0,0,0,20)],baselineColor:"transparent",format:"HH",gridlines:{color:"transparent"}},bar:{groupWidth:"2"},vAxes:t,series:e}},insulinBrandsForSelectedDays:function(){var t=this;if(this.isDcmView)return this.selectedDays.length?this.insulinValues.filter(function(e){return t.selectedDays.some(function(t){return V.dateEquals(t,e.date)})}).reduce(function(t,e){var n=t.find(function(t){return t.name==e.name});return n||(n={type:e.type,name:e.name},t.push(n)),t},[]):[]}},filters:{weekTooltip:function(t,e,n,i){if(t){var a=l()(t);return a.format(e)+" - "+a.add(6,"days").format(e)}},weekNumber:function(t){return l()(t).week()}},mounted:function(){this.chartsBeginDate=this.getInitialChartsBeginDate(),this.calculateWeekStartDayIndex(),this.calculateWeeks(),P.$on("rangeChanged",this.onRangeChanged),P.$on("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$on("vResized",this.onVResized),this.$root.$on("bv::modal::shown",this.modalShown)},beforeDestroy:function(){P.$off("rangeChanged",this.onRangeChanged),P.$off("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$off("vResized",this.onVResized)},props:["glucoseValues","insulinValues","insulinTypes","dailyChartsVMax","originalUnit"]},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-print-none"},[t.isDcmView?n("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedDays.length,expression:"selectedDays.length"}],staticClass:"dgp-sticky sticky-top rounded"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"dgp-toolbar text-center border border-primary p-1 rounded text-primary align-self-center"},[n("div",{staticClass:"inner",on:{click:function(e){return t.showDialog()}}},[n("i",{staticClass:"dgp-icon icon-bar-chart icon-2x"}),t._v("\n              "+t._s(t.selectedDays.length)+" "+t._s(t.daysSelectedText)+"\n            ")]),t._v(" "),n("i",{staticClass:"dgp-icon dgp-icon-remove icon-remove-circle",attrs:{title:t.lang.clearSelection},on:{click:function(e){return t.clearSelection()}}})])])])]):t._e(),t._v(" "),n("div",{staticClass:"dgp-container"},[n("div",{staticClass:"row dgp-main"},[n("span",{staticClass:"dgp-title"},[t._v("\n          "+t._s(t.lang.chartTitle)+"\n        ")]),t._v(" "),n("div",{staticClass:"col dgp-content col-sm-12"},[n("div",{staticClass:"row dgp-row dgp-row-header"},[n("div",{staticClass:"col dgp-column dgp-column-week"}),t._v(" "),n("div",{staticClass:"col dgp-column-week-wrapper"},[n("div",{staticClass:"row"},t._l(t.weekDays,function(e){return n("div",{key:e,staticClass:"col dgp-column dgp-column-week-values"},[n("span",{class:{clickable:t.isDcmView},on:{click:function(n){return t.selectDaysRepeatedly(e)}}},[t._v("\n                    "+t._s(t.lang.days[e])+"\n                  ")])])}),0)])]),t._v(" "),t._l(t.weeks,function(e){return n("div",{key:e[0].getTime()},[n("div",{staticClass:"row dgp-row dgp-row-body"},[n("div",{staticClass:"col dgp-column dgp-column-week",class:{clickable:t.isDcmView},attrs:{title:t._f("weekTooltip")(e[0],t.datepickerFormat)},on:{click:function(n){return t.selectWeek(e)}}},[n("div",[n("span",{staticClass:"year"},[t._v(t._s(e[0].getFullYear()))]),t._v(" "),n("span",{staticClass:"space"},[t._v("_")]),t._v(" "),n("span",{staticClass:"month"},[t._v(t._s(t._f("weekNumber")(e[0]))+".")])])]),t._v(" "),n("div",{staticClass:"col dgp-column-week-wrapper"},[n("div",{staticClass:"row dgp-row-for-columns"},t._l(e,function(e){return n("div",{key:e.getTime(),class:"col dgp-column dgp-column-week-values dgp-column-"+t.getDayColumnOrder(e.getDay())+" "+(t.isBetween(e)?"in-range":"out-of-range")},[t.isBetween(e)?n("div",{staticClass:"dgp-chart-wrapper"},[n("span",{staticClass:"day-name"},[t._v("\n                        "+t._s(t.lang.days[e.getDay()])+"\n                      ")]),t._v(" "),n("span",{staticClass:"date"},[t._v("                            \n                        "+t._s(e.getDate())+"\n                      ")]),t._v(" "),t.isDcmView?n("button",{staticClass:"btn btn-sm btn-dgp-day-selector",class:{"btn-outline-dgp unchecked":!t.isDaySelected(e),"btn-dgp":t.isDaySelected(e)},on:{click:function(n){return t.selectDay(e)}}},[n("i",{staticClass:"icon icon-ok"})]):t._e(),t._v(" "),n("div",{staticClass:"dgp-chart-area"},[n("dgp-chart",{attrs:{"glucose-values":t.valuesForDay(!0,e),"insulin-values":t.valuesForDay(!1,e),"insulin-types":t.insulinTypes,"original-unit":t.originalUnit,"chart-options":t.dgpChartOptions}})],1)]):t._e()])}),0)])])])})],2)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasUnloadedWeeks,expression:"hasUnloadedWeeks"}],staticClass:"row"},[n("div",{staticClass:"col-12 text-center mt-2"},[n("button",{staticClass:"btn btn-sm btn-outline-dgp",attrs:{type:"button"},on:{click:function(e){return t.loadNextPeriod()}}},[n("i",{staticClass:"icon-refresh"}),t._v("\n            "+t._s(t.moreButtonText)+"\n          ")])])])]),t._v(" "),t.isDcmView?n("b-modal",{ref:"custom-dgp-dialog-modal",attrs:{size:"fs",scrollable:"","no-close-on-esc":!0,"no-close-on-backdrop":!0,"hide-footer":!0}},[n("template",{slot:"modal-header"},[n("div",{staticClass:"row w-100"},[n("div",{staticClass:"col"},[n("h4",{staticClass:"modal-title mt-1 mb-1 d-inline-block"},[t._v(t._s(t.modalTitle))]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-secondary float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.closeCustomDgpModal()}}},[n("i",{staticClass:"icon-remove"})]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-primary float-right mr-1",attrs:{type:"button",disabled:!t.filteredGlucoseValuesBySelection.length&&!t.filteredInsulinValuesBySelection.length,"data-dismiss":"modal","aria-label":"Print"},on:{click:function(e){return t.printContent()}}},[n("i",{staticClass:"icon-print"})])])])]),t._v(" "),n("template",{slot:"default"},[n("div",{ref:"print-content",staticClass:"p-3"},[n("h4",{staticClass:"d-none d-print-inline-block"},[t._v(t._s(t.modalTitle))]),t._v(" "),n("dgp-custom-chart",{attrs:{"glucose-values":t.filteredGlucoseValuesBySelection,"insulin-values":t.filteredInsulinValuesBySelection,"insulin-brands":t.insulinBrandsForSelectedDays,"insulin-types":t.insulinTypes,"selected-days":t.selectedDays,"original-unit":t.originalUnit}})],1)])],2):t._e()],1)},staticRenderFns:[]},dt=n("VU/8")(ut,ct,!1,null,null,null).exports,gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col pr-md-3 pr-lg-0 col-statistics"},[n("div",{staticClass:"statistics-title"},[t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"inner border border-dark rounded"},t._l(t.blocks,function(e){return n("div",{key:e.id,staticClass:"stat-block"},[t._t("block-header-"+e.id),t._v(" "),t._l(e.rows,function(i,a){return n("div",{key:"row-"+e.id+"-"+a,staticClass:"row"},[n("div",{staticClass:"col-8 col-sm-9"},[t._v("\n                    "+t._s(i.label)+"\n                ")]),t._v(" "),n("div",{staticClass:"col"},[t._v("\n                    "+t._s(i.dataText)+"\n                ")])])})],2)}),0)])},staticRenderFns:[]},ht=n("VU/8")({props:["title","blocks"]},gt,!1,null,null,null).exports,mt={components:{statisticsTemplate:ht},computed:{currentLanguage:function(){return this.$store.state.globalSettingsModule.globalSettings.currentLanguage},unit:function(){return this.$store.state.globalSettingsModule.globalSettings.unit},lang:function(){return this.$i18n.t("glucoseStatisticsAgp",this.currentLanguage)},selectedMinDate:function(){return this.$store.state.mainModule.range.selectedMinDate},selectedMaxDate:function(){return this.$store.state.mainModule.range.selectedMaxDate},startDateFormat:function(){return l()(this.selectedMinDate).format(this.semiLongDateFormat)},endDateFormat:function(){return l()(this.selectedMaxDate).format(this.semiLongDateFormat)},semiLongDateFormat:function(){return this.$i18n.t("semiLongDateFormat",this.currentLanguage)},days:function(){return this.$i18n.t("days",this.currentLanguage)},countUnit:function(){return this.$i18n.t("countUnit",this.currentLanguage)},blocks:function(){return[{id:0,rows:[{label:this.startDateFormat+" - "+this.endDateFormat,dataText:this.$store.getters.totalDays+" "+this.days},{label:this.lang.averageTestsPerDayLabel+" / "+this.lang.sumTestsLabel,dataText:V.round(this.statisticalData.atpd,1).toFixed(1)+" "+this.countUnit+" / "+this.statisticalData.count+" "+this.countUnit}]},{id:1,rows:[{label:this.lang.averageGlucoseLabel,dataText:V.round(this.statisticalData.avg,1).toFixed(1)+" "+this.unit},{label:this.lang.gmiLabel,dataText:V.round(this.statisticalData.gmi,1).toFixed(1)+" %"}]},{id:2,rows:[{label:this.lang.covLabel,dataText:V.round(this.statisticalData.cv,1).toFixed(1)+" %"},{label:this.lang.sdLabel,dataText:V.round(this.statisticalData.sd,1).toFixed(1)+" "+this.unit}]}]}},props:{statisticalData:Object}},vt={render:function(){var t=this.$createElement;return(this._self._c||t)("statistics-template",{attrs:{title:this.lang.glucoseStatisticsVTitle,blocks:this.blocks}})},staticRenderFns:[]},pt=n("VU/8")(mt,vt,!1,null,null,null).exports,ft={components:{statisticsTemplate:ht},data:function(){return{chart:null,initialized:!1,isSmSize:this.isSmallSize()}},methods:{isValuable:function(t){return!!(t.avgDuration||t.sumUnit||t.avgUnit||t.avgCountPerDay)},isSelected:function(t){return this.displayedBrands[t]},isSmallSize:function(){return window.innerWidth<1024},draw:function(){if(this.initialized=!1,this.dispose(),this.noData)this.initialized=!0;else{var t=document.getElementById("insulin-chart-area");t&&(this.chart=new google.visualization.PieChart(t),google.visualization.events.addListener(this.chart,"ready",this.chartReady),this.chart.draw(this.chartData,this.chartOptions))}},chartReady:function(){this.initialized=!0},invalidate:function(){var t=this;this.$nextTick(function(){google.charts.setOnLoadCallback(t.draw)})},dispose:function(){google.visualization.events.removeListener(this.chart,"ready",this.chartReady),this.chart&&(this.chart.clearChart(),this.chart=null)},onVResized:function(){this.isSmSize=this.isSmallSize(),this.invalidate()},onGlobalSettingsUpdated:function(t){(t.difference.colorBasal||t.difference.colorBolus||t.difference.colorMix)&&this.invalidate()}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},lang:function(){return this.$i18n.t("insulinStatistics",this.globalSettings.currentLanguage)},loadingText:function(){return this.$i18n.t("loadingText",this.globalSettings.currentLanguage)},displayedBrands:function(){return this.$store.state.insulinVuexModule.displayedBrands},insulinUnitShort:function(){return this.$i18n.t("insulinUnitShort",this.globalSettings.currentLanguage)},countUnit:function(){return this.$i18n.t("countUnit",this.globalSettings.currentLanguage)},statisticsValuable:function(){var t=this,e=0;return this.insulinValues.map(function(n){var i={brandIndex:e++,name:n.name,type:n.insulinType,avgDuration:null,avgUnit:null,avgCountPerDay:null,avgInjectionPerDay:null,sumUnit:null,valuable:!1,color:t.insulinTypes.find(function(t){return t.type==n.insulinType}).color,count:n.values.length};if(n.values.length){var a=n.values.reduce(function(t,e){return t+e.duration},0)/n.values.length;i.avgDuration=a?(a/1e3).toFixed(1):null,a=null,i.sumUnit=n.values.reduce(function(t,e){return t+e.unit},0),i.avgUnit=(i.sumUnit/n.values.length).toFixed(1);var s=n.values.reduce(b,{}),l=0,r=0;for(var o in s)r++,l+=s[o];i.avgCountPerDay=r?(l/r).toFixed(1):null,i.avgUnit&&i.avgCountPerDay&&(i.avgInjectionPerDay=(i.avgUnit*i.avgCountPerDay).toFixed(1)),i.valuable=t.isValuable(i),s=null,l=null,r=null}return i}).filter(function(e){return t.isValuable(e)})},percentages:function(){var t=this,e={};return this.statisticsValuable.forEach(function(n){e[n.brandIndex]=V.getPercentage(n.sumUnit,t.totalUnit)}),e},totalUnit:function(){return this.statisticsValuable.reduce(function(t,e){return t+e.sumUnit},0)},noData:function(){return!this.totalUnit},chartData:function(){if(!this.noData)return google.visualization.arrayToDataTable([["ins","cnt"]].concat(this.statisticsValuable.map(function(t){return[t.type,t.sumUnit]})))},chartOptions:function(){var t={},e=0;return this.insulinTypes.forEach(function(n){t[e++]={color:n.color}}),{async:!0,allowAsync:!0,tooltip:{trigger:"none"},height:153,width:153,chartArea:{left:10,right:10,top:10,bottom:10},pieSliceText:"none",slices:t,legend:"none"}},blocks:function(){var t=this;return this.statisticsValuable.map(function(e){return{id:e.brandIndex,rows:[{label:t.lang.dailyAverages,dataText:(e.avgInjectionPerDay||"-")+" "+(e.avgInjectionPerDay?t.insulinUnitShort:"")+" / "+(e.avgCountPerDay||"-")+" "+(e.avgCountPerDay?t.countUnit:"")},{label:t.lang.injectionUnitAndDuration,dataText:(e.avgUnit||"-")+" "+(e.avgUnit?t.insulinUnitShort:"")+" / "+(e.avgDuration||"-")}]}})}},mounted:function(){this.invalidate(),P.$on("rangeChanged",this.invalidate),P.$on("vResized",this.onVResized),P.$on("globalSettingsUpdated",this.onGlobalSettingsUpdated)},beforeDestroy:function(){this.dispose(),P.$off("rangeChanged",this.invalidate),P.$off("vResized",this.onVResized),P.$off("globalSettingsUpdated",this.onGlobalSettingsUpdated)},props:["insulinValues","insulinTypes"]},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row statistic-row insulin-statistic-row print-content-diagrams"},[n("statistics-template",{attrs:{title:t.lang.mainTitle,blocks:t.blocks}},[t._l(t.statisticsValuable,function(e){return n("template",{slot:"block-header-"+e.brandIndex},[n("span",{key:e.brandIndex,staticClass:"stat-block-header",style:"color:"+e.color},[t._v("\n        "+t._s(e.name)+" - "+t._s(e.type)+"\n      ")])])})],2),t._v(" "),n("div",{staticClass:"col-lg my-4 my-md-5 my-lg-0"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.initialized,expression:"!initialized"}],staticClass:"loading-spinner d-print-none text-primary"},[n("div",{staticClass:"spinner-border",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v(t._s(t.loadingText))])]),t._v(" "),n("p",[t._v(t._s(t.loadingText))])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col col-insulin-chart mx-auto mr-sm-0 m-lg-0"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],attrs:{id:"insulin-chart-area"}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.initialized,expression:"initialized"}],staticClass:"col col-insulin-legend mx-auto ml-sm-0"},[n("div",{staticClass:"insulin-legend"},t._l(t.statisticsValuable,function(e){return n("div",{key:e.brandIndex,staticClass:"legend-item my-1"},[n("i",{staticClass:"sign mr-1",style:"background-color:"+e.color}),t._v(" "),n("strong",{staticClass:"percent mx-1"},[t._v(t._s(t.percentages[e.brandIndex])+"%")]),t._v(" "),n("span",{staticClass:"unit mx-1"},[t._v("\n              ("+t._s(t._f("round")(e.sumUnit,1))+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.sumUnit,expression:"data.sumUnit"}]},[t._v(t._s(t.insulinUnitShort))]),t._v(")\n            ")]),t._v(" "),n("strong",{style:"color:"+e.color},[t._v(t._s(e.name)+" - "+t._s(e.type))])])}),0)])])])],1)},staticRenderFns:[]},bt=n("VU/8")(ft,yt,!1,null,null,null).exports,_t={data:function(){return{mealtime:{breakfast:null,elevenses:null,lunch:null,afternoonsnack:null,dinner:null},receivedType:null,submitted:!1,modalShown:!1}},methods:{onShow:function(t){this.submitted=!1,this.receivedType=t.type,o()(this.mealtime,this.$store.state.mainModule.patient.settings.mealtime),this.$refs["mealtime-editor-modal"].show()},closeModal:function(){this.$refs["mealtime-editor-modal"].hide()},onModalShown:function(){this.receivedType&&document.getElementById("mealtime-edit-"+this.receivedType).focus(),this.modalShown=!0},onModalHidden:function(){this.modalShown=!1},save:function(){this.submitted=!0,this.hasValidationErrors||(this.$store.commit("updatePatientMealtime",this.mealtime),this.closeModal())},setCustomValidity:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.modalShown&&document.getElementById("mealtime-edit-"+t).setCustomValidity(e)},getMaxTime:function(t){if(t)return l()(V.convertTimeString(t)).subtract(2.5,"hours").format("HH:mm")},getMinTime:function(t){if(t)return l()(V.convertTimeString(t)).add(2.5,"hours").format("HH:mm")}},computed:{currentLanguage:function(){return this.$store.state.globalSettingsModule.globalSettings.currentLanguage},hasValidationErrors:function(){return c()(this.validationErrors).length>0},validationErrors:function(){var t={},e=[];this.setCustomValidity("breakfast"),this.setCustomValidity("elevenses"),this.setCustomValidity("lunch"),this.setCustomValidity("afternoonsnack"),this.setCustomValidity("dinner"),this.mealtime.breakfast?V.validateTime(this.mealtime.breakfast)?e.push({type:"breakfast",time:this.mealtime.breakfast}):(t["breakfast.invlid"]=1,this.setCustomValidity("breakfast","invalid")):(t.breakfast=1,this.setCustomValidity("breakfast","required")),this.mealtime.elevenses&&(V.validateTime(this.mealtime.elevenses)?e.push({type:"elevenses",time:this.mealtime.elevenses}):(t["elevenses.invlid"]=1,this.setCustomValidity("elevenses","invalid"))),this.mealtime.lunch?V.validateTime(this.mealtime.lunch)?e.push({type:"lunch",time:this.mealtime.lunch}):(t["lunch.invlid"]=1,this.setCustomValidity("lunch","invalid")):(t.lunch=1,this.setCustomValidity("lunch","required")),this.mealtime.afternoonsnack&&(V.validateTime(this.mealtime.afternoonsnack)?e.push({type:"afternoonsnack",time:this.mealtime.afternoonsnack}):(t["afternoonsnack.invalid"]=1,this.setCustomValidity("afternoonsnack","invalid"))),this.mealtime.dinner?V.validateTime(this.mealtime.dinner)?e.push({type:"dinner",time:this.mealtime.dinner}):(t["dinner.invlid"]=1,this.setCustomValidity("dinner","invlid")):(t.dinner=1,this.setCustomValidity("dinner","required"));for(var n=0;n<e.length-1;n++){var i=V.convertTimeString(e[n].time),a=V.convertTimeString(e[n+1].time);l()(i).add(2.5,"hours").isAfter(a)&&(this.setCustomValidity(e[n].type,"conflict"),this.setCustomValidity(e[n+1].type,"conflict"),t[e[n].type+".conflict"]=1,t[e[n+1].type+".conflict"]=1,l()(i).isBefore(a)&&(t.timeConflict=1))}return t},breakfastTimeMax:function(){return this.getMaxTime(this.mealtime.elevenses||this.mealtime.lunch||this.mealtime.afternoonsnack||this.mealtime.dinner)},elevensesTimeMax:function(){return this.getMaxTime(this.mealtime.lunch||this.mealtime.afternoonsnack||this.mealtime.dinner)},lunchTimeMax:function(){return this.getMaxTime(this.mealtime.afternoonsnack||this.mealtime.dinner)},afternoonsnackTimeMax:function(){return this.getMaxTime(this.mealtime.dinner)},elevensesTimeMin:function(){return this.getMinTime(this.mealtime.breakfast)},lunchTimeMin:function(){return this.getMinTime(this.mealtime.elevenses||this.mealtime.breakfast)},afternoonsnackTimeMin:function(){return this.getMinTime(this.mealtime.lunch||this.mealtime.elevenses||this.mealtime.breakfast)},dinnerTimeMin:function(){return this.getMinTime(this.mealtime.afternoonsnack||this.mealtime.lunch||this.mealtime.elevenses||this.mealtime.breakfast)},lang:function(){return this.$i18n.t("mealtimeEditor",this.currentLanguage)},okText:function(){return this.$i18n.t("ok",this.currentLanguage)},breakfastLabel:function(){return this.$i18n.t("breakfast",this.currentLanguage)},elevensesLabel:function(){return this.$i18n.t("elevenses",this.currentLanguage)},lunchLabel:function(){return this.$i18n.t("lunch",this.currentLanguage)},afternoonsnackLabel:function(){return this.$i18n.t("afternoonsnack",this.currentLanguage)},dinnerLabel:function(){return this.$i18n.t("dinner",this.currentLanguage)}},mounted:function(){P.$on("open-mealtime-editor",this.onShow),this.$root.$on("bv::modal::shown",this.onModalShown),this.$root.$on("bv::modal::hidden",this.onModalHidden)},beforeDestroy:function(){P.$off("open-mealtime-editor",this.onShow)}},wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{ref:"mealtime-editor-modal",attrs:{size:"lg",scrollable:"","no-close-on-esc":!0,"no-close-on-backdrop":!0}},[n("template",{slot:"modal-header"},[n("div",{staticClass:"row w-100"},[n("div",{staticClass:"col"},[n("h4",{staticClass:"mt-1 mb-1 d-inline-block"},[n("i",{staticClass:"icon-time"}),t._v("\n                  "+t._s(t.lang.modalTitle)+"\n              ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-secondary float-right ",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.closeModal()}}},[n("i",{staticClass:"icon-remove"})])])])]),t._v(" "),n("template",{slot:"default"},[n("div",{staticClass:"p-3",attrs:{id:"mealtime-editor-modal-body"}},[n("div",{class:{"was-validated":t.submitted}},[n("div",{staticClass:"row form-group"},[n("label",{staticClass:"col-form-label offset-sm-2 col-sm-4",attrs:{for:"mealtime-edit-breakfast"}},[t._v("\n                            "+t._s(t.breakfastLabel)),n("sup",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mealtime.breakfast,expression:"mealtime.breakfast"}],staticClass:"form-control",attrs:{type:"time",id:"mealtime-edit-breakfast",max:t.breakfastTimeMax,required:"required"},domProps:{value:t.mealtime.breakfast},on:{input:function(e){e.target.composing||t.$set(t.mealtime,"breakfast",e.target.value)}}}),t._v(" "),t.validationErrors.breakfast?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeRequired))]):t._e(),t._v(" "),t.validationErrors["breakfast.invalid"]?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeInvalid))]):t._e()])]),t._v(" "),n("div",{staticClass:"row form-group"},[n("label",{staticClass:"col-form-label offset-sm-2 col-sm-4",attrs:{for:"mealtime-edit-elevenses"}},[t._v("\n                            "+t._s(t.elevensesLabel)+"\n                        ")]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mealtime.elevenses,expression:"mealtime.elevenses"}],staticClass:"form-control",attrs:{type:"time",id:"mealtime-edit-elevenses",min:t.elevensesTimeMin,max:t.elevensesTimeMax},domProps:{value:t.mealtime.elevenses},on:{input:function(e){e.target.composing||t.$set(t.mealtime,"elevenses",e.target.value)}}}),t._v(" "),t.validationErrors["elevenses.invalid"]?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeInvalid))]):t._e()])]),t._v(" "),n("div",{staticClass:"row form-group"},[n("label",{staticClass:"col-form-label offset-sm-2 col-sm-4",attrs:{for:"mealtime-edit-lunch"}},[t._v("\n                            "+t._s(t.lunchLabel)),n("sup",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mealtime.lunch,expression:"mealtime.lunch"}],staticClass:"form-control",attrs:{type:"time",id:"mealtime-edit-lunch",min:t.lunchTimeMin,max:t.lunchTimeMax,required:"required"},domProps:{value:t.mealtime.lunch},on:{input:function(e){e.target.composing||t.$set(t.mealtime,"lunch",e.target.value)}}}),t._v(" "),t.validationErrors.lunch?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeRequired))]):t._e(),t._v(" "),t.validationErrors["lunch.invalid"]?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeInvalid))]):t._e()])]),t._v(" "),n("div",{staticClass:"row form-group"},[n("label",{staticClass:"col-form-label offset-sm-2 col-sm-4",attrs:{for:"mealtime-edit-afternoonsnack"}},[t._v("\n                            "+t._s(t.afternoonsnackLabel)+"\n                        ")]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mealtime.afternoonsnack,expression:"mealtime.afternoonsnack"}],staticClass:"form-control",attrs:{type:"time",id:"mealtime-edit-afternoonsnack",min:t.afternoonsnackTimeMin,max:t.afternoonsnackTimeMax},domProps:{value:t.mealtime.afternoonsnack},on:{input:function(e){e.target.composing||t.$set(t.mealtime,"afternoonsnack",e.target.value)}}}),t._v(" "),t.validationErrors["afternoonsnack.invalid"]?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeInvalid))]):t._e()])]),t._v(" "),n("div",{staticClass:"row"},[n("label",{staticClass:"col-form-label offset-sm-2 col-sm-4",attrs:{for:"mealtime-edit-dinner"}},[t._v("\n                            "+t._s(t.dinnerLabel)),n("sup",{staticClass:"text-danger"},[t._v("*")])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mealtime.dinner,expression:"mealtime.dinner"}],staticClass:"form-control",attrs:{type:"time",id:"mealtime-edit-dinner",min:t.dinnerTimeMin,required:"required"},domProps:{value:t.mealtime.dinner},on:{input:function(e){e.target.composing||t.$set(t.mealtime,"dinner",e.target.value)}}}),t._v(" "),t.validationErrors.dinner?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeRequired))]):t._e(),t._v(" "),t.validationErrors["dinner.invalid"]?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.lang.timeInvalid))]):t._e()])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&t.validationErrors.timeConflict,expression:"submitted && validationErrors['timeConflict']"}],staticClass:"row mt-3"},[n("div",{staticClass:"col-sm-8 offset-sm-2"},[n("p",{staticClass:"alert alert-danger m-0"},[n("small",[t._v(t._s(t.lang.timeConflict))])])])])])])]),t._v(" "),n("template",{slot:"modal-footer"},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:t.submitted&&t.hasValidationErrors},on:{click:function(e){return t.save()}}},[n("i",{staticClass:"icon-ok"}),t._v("\n                "+t._s(t.okText)+"\n            ")])])],2)],1)},staticRenderFns:[]},Dt=n("VU/8")(_t,wt,!1,null,null,null).exports,St={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row row-patient pb-4 align-items-center print-content-diagrams"},[t.isDcmView?t._e():n("div",{staticClass:"col-12 col-md col-logo text-center text-md-left"},[n("div",{staticClass:"agp-logo"})]),t._v(" "),n("div",{staticClass:"col-12 col-sm-8 col-md col-name align-self-end text-center text-sm-left"},[n("strong",[t._v(t._s(t.lang.patientProfileNameLabel)+":")]),t._v("\n        "+t._s(t.patientFullName)+"\n    ")]),t._v(" "),n("div",{staticClass:"col-12 col-sm-4 col-button text-center text-sm-right",class:{"col-md-3":!t.isDcmView,"col-sm":t.isDcmView}},[n("a",{staticClass:"btn btn-sm btn-primary d-print-none",attrs:{href:t.patientProfileUrl}},[t._v("\n        "+t._s(t.lang.patientProfileLinkLabel)+"\n        ")])])])},staticRenderFns:[]},Ct=n("VU/8")({computed:{currentLanguage:function(){return this.$store.state.globalSettingsModule.globalSettings.currentLanguage},lang:function(){return this.$i18n.t("patient",this.currentLanguage)},isDcmView:function(){return"DCMView"==this.$store.state.globalSettingsModule.globalSettings.viewMode},patientProfileUrl:function(){return this.patientProfileRawUrl.replace("{patient_id}",this.$store.state.mainModule.patient.id).replace("{patient_name}",this.$store.getters.getPatientName("hu"))},patientFullName:function(){return this.$store.getters.getPatientName(this.currentLanguage)}},props:["patientProfileRawUrl"]},St,!1,null,null,null).exports,Tt=n("W3Iv"),kt=n.n(Tt),xt={data:function(){return{settings:{activeSettingsTab:null,averageModeDaysLimit:null,colorBasal:null,colorBolus:null,colorMix:null,currentLanguage:null,curveType:null,dgpChartType:null,dgpDialogMode:null,diaryType:null,displayAverageLines:null,displayInsulinInAGP:null,displayNonMeasurableValues:null,glucoseStatisticsMode:null,midlineType:null,postMealTimeInMinutes:null,preMealTimeInMinutes:null,printOptions:{charts:null,diary:null},timeScaleType:null,unit:null,viewMode:null},insulinSettings:[],mealtimeStep:5,mealtimeMin:5,mealtimeMax:150,submitted:!1}},methods:{setActiveTab:function(t){this.settings.activeSettingsTab=t},setViewMode:function(t){this.settings.viewMode=t,"OfficialAGP"==t?(this.settings.glucoseStatisticsMode="agp",this.settings.midlineType="median",this.settings.displayNonMeasurableValues=!0,this.settings.displayAverageLines=!0,this.settings.curveType="none",this.settings.dgpChartType="scatter",this.settings.displayInsulinInAGP=!1,this.settings.timeScaleType="glucose"):(this.settings.glucoseStatisticsMode="custom",this.settings.midlineType="avg",this.settings.displayAverageLines=!1,this.settings.curveType="function",this.settings.dgpChartType="line",this.settings.displayInsulinInAGP=!0)},saveSettings:function(){var t=this;this.submitted=!0,this.hasValidationErrors||(this.insulinSettings.forEach(function(e){switch(e.type){case _:t.settings.colorBasal=e.color;break;case w:t.settings.colorBolus=e.color;break;case D:t.settings.colorMix=e.color}}),P.$emit("settings-updated",this.settings))},onOpening:function(){this.submitted=!1,o()(this.settings,this.globalSettings),this.insulinSettings=this.insulinTypes.map(function(t){return o()({},t)}),this.settings.activeSettingsTab=this.globalSettings.activeSettingsTab||"v-pills-view-model-tab"}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},lang:function(){return this.$i18n.t("globalSettingsDialog",this.globalSettings.currentLanguage)},yesText:function(){return this.$i18n.t("yes",this.globalSettings.currentLanguage)},noText:function(){return this.$i18n.t("no",this.globalSettings.currentLanguage)},okText:function(){return this.$i18n.t("ok",this.globalSettings.currentLanguage)},hasValidationErrors:function(){return c()(this.validationErrors).length>0},validationErrors:function(){var t={};return(!this.settings.postMealTimeInMinutes||this.settings.postMealTimeInMinutes<5||this.settings.postMealTimeInMinutes>150)&&(t.postMealTimeInMinutes=1),(!this.settings.preMealTimeInMinutes||this.settings.preMealTimeInMinutes<5||this.settings.preMealTimeInMinutes>150)&&(t.preMealTimeInMinutes=1),t},numberRequiredBetween:function(){return this.lang.tabDiary.numberRequiredBetween.replace("{0}",this.mealtimeMin).replace("{1}",this.mealtimeMax)}},mounted:function(){P.$on("open-global-settings-modal",this.onOpening)},beforeDestroy:function(){P.$off("open-global-settings-modal",this.onOpening)},props:["insulinTypes"]},Mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal-body settings-modal-body"},[n("div",{staticClass:"row settings-row"},[n("div",{staticClass:"col-md-3 col-lg-2 settings-nav"},[n("div",{staticClass:"nav flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[n("a",{staticClass:"nav-link settings-nav-link",class:{active:"v-pills-view-model-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-view-model-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-glucose"},on:{click:function(e){return t.setActiveTab("v-pills-view-model-tab")}}},[n("i",{staticClass:"icon-chevron-right nav-icon"}),t._v("\n                        "+t._s(t.lang.navigationViewMode)+"\n                    ")]),t._v(" "),n("a",{staticClass:"nav-link settings-nav-link",class:{active:"v-pills-language-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-language-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-language","aria-selected":"false"},on:{click:function(e){return t.setActiveTab("v-pills-language-tab")}}},[n("i",{staticClass:"icon-chevron-right nav-icon"}),t._v("\n                        "+t._s(t.lang.navigationLanguage)+"\n                    ")]),t._v(" "),n("a",{staticClass:"nav-link settings-nav-link",class:{active:"v-pills-unit-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-unit-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-unit","aria-selected":"false"},on:{click:function(e){return t.setActiveTab("v-pills-unit-tab")}}},[n("i",{staticClass:"icon-chevron-right nav-icon"}),t._v("\n                        "+t._s(t.lang.navigationUnit)+"\n                    ")]),t._v(" "),"DCMView"==t.settings.viewMode?n("a",{staticClass:"nav-link settings-nav-link",class:{active:"v-pills-glucose-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-glucose-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-glucose"},on:{click:function(e){return t.setActiveTab("v-pills-glucose-tab")}}},[n("i",{staticClass:"icon-chevron-right nav-icon"}),t._v("\n                        "+t._s(t.lang.navigationBloodGlucose)+"\n                    ")]):t._e(),t._v(" "),"DCMView"==t.settings.viewMode?n("a",{staticClass:"nav-link settings-nav-link",class:{active:"v-pills-insulin-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-insulin-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-insulin"},on:{click:function(e){return t.setActiveTab("v-pills-insulin-tab")}}},[n("i",{staticClass:"icon-chevron-right nav-icon"}),t._v("\n                        "+t._s(t.lang.navigationInsulin)+"\n                    ")]):t._e(),t._v(" "),"DCMView"==t.settings.viewMode?n("a",{staticClass:"nav-link settings-nav-link",class:{active:"v-pills-diary-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-diary-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-diary","aria-selected":"false"},on:{click:function(e){return t.setActiveTab("v-pills-diary-tab")}}},[n("i",{staticClass:"icon-chevron-right nav-icon"}),t._v("\n                        "+t._s(t.lang.navigationDiary)+"\n                    ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-md-9 col-lg-10 pl-sm-3 settings-body",attrs:{id:"global-settings-settings-body"}},[n("div",{staticClass:"tab-content",class:{"was-validated":t.submitted},attrs:{id:"v-pills-tabContent"}},[n("div",{staticClass:"tab-pane fade",class:{"show active":"v-pills-view-model-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-view-model-tab",role:"tabpanel","aria-labelledby":"v-pills-view-model-tab"}},[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-sm-6 offset-sm-3 text-center"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"OfficialAGP"==t.settings.viewMode,"btn-outline-primary":"OfficialAGP"!=t.settings.viewMode},attrs:{type:"button"},on:{click:function(e){return t.setViewMode("OfficialAGP")}}},[t._v("\n                                        "+t._s(t.lang.tabViewModel.AGP)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"DCMView"==t.settings.viewMode,"btn-outline-primary":"DCMView"!=t.settings.viewMode},attrs:{type:"button"},on:{click:function(e){return t.setViewMode("DCMView")}}},[t._v("\n                                        "+t._s(t.lang.tabViewModel.DCM)+"\n                                    ")])])])])]),t._v(" "),n("div",{staticClass:"tab-pane fade",class:{"show active":"v-pills-language-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-language",role:"tabpanel","aria-labelledby":"v-pills-language-tab"}},[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-sm-6 offset-sm-3 text-center"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm btn-locale btn-locale-hu",class:{"btn-primary":"hu"==t.settings.currentLanguage,"btn-outline-primary":"hu"!=t.settings.currentLanguage},attrs:{type:"button",title:"magyar"},on:{click:function(e){t.settings.currentLanguage="hu"}}},[n("i",{staticClass:"flag"}),t._v("\n                                        Magyar\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-locale btn-locale-en",class:{"btn-primary":"en"==t.settings.currentLanguage,"btn-outline-primary":"en"!=t.settings.currentLanguage},attrs:{type:"button",title:"english"},on:{click:function(e){t.settings.currentLanguage="en"}}},[n("i",{staticClass:"flag"}),t._v("\n                                        English\n                                    ")])])])])]),t._v(" "),n("div",{staticClass:"tab-pane fade",class:{"show active":"v-pills-unit-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-unit",role:"tabpanel","aria-labelledby":"v-pills-unit-tab"}},[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-sm-6 offset-sm-3 text-center"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"mmol/l"==t.settings.unit,"btn-outline-primary":"mmol/l"!=t.settings.unit},attrs:{type:"button"},on:{click:function(e){t.settings.unit="mmol/l"}}},[t._v("\n                                        mmol/l\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"mg/dl"==t.settings.unit,"btn-outline-primary":"mg/dl"!=t.settings.unit},attrs:{type:"button"},on:{click:function(e){t.settings.unit="mg/dl"}}},[t._v("\n                                        mg/dl\n                                    ")])])])])]),t._v(" "),n("div",{staticClass:"tab-pane fade",class:{"show active":"v-pills-glucose-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-glucose",role:"tabpanel","aria-labelledby":"v-pills-glucose-tab"}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(t.lang.tabBloodGlucose.midlineTypeLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"avg"==t.settings.midlineType,"btn-outline-primary":"avg"!=t.settings.midlineType},attrs:{type:"button"},on:{click:function(e){t.settings.midlineType="avg"}}},[t._v("\n                                        "+t._s(t.lang.tabBloodGlucose.midlineTypeAvg)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"median"==t.settings.midlineType,"btn-outline-primary":"median"!=t.settings.midlineType},attrs:{type:"button"},on:{click:function(e){t.settings.midlineType="median"}}},[t._v("\n                                        "+t._s(t.lang.tabBloodGlucose.midlineTypeMedian)+"\n                                    ")])])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(t.lang.tabBloodGlucose.displayNonMeasurableValuesLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.settings.displayNonMeasurableValues,"btn-outline-primary":!t.settings.displayNonMeasurableValues},attrs:{type:"button"},on:{click:function(e){t.settings.displayNonMeasurableValues=!0}}},[t._v("\n                                        "+t._s(t.yesText)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":!t.settings.displayNonMeasurableValues,"btn-outline-primary":t.settings.displayNonMeasurableValues},attrs:{type:"button"},on:{click:function(e){t.settings.displayNonMeasurableValues=!1}}},[t._v("\n                                        "+t._s(t.noText)+"\n                                    ")])])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(t.lang.tabBloodGlucose.averageLinesLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.settings.displayAverageLines,"btn-outline-primary":!t.settings.displayAverageLines},attrs:{type:"button"},on:{click:function(e){t.settings.displayAverageLines=!0}}},[t._v("\n                                        "+t._s(t.yesText)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":!t.settings.displayAverageLines,"btn-outline-primary":t.settings.displayAverageLines},attrs:{type:"button"},on:{click:function(e){t.settings.displayAverageLines=!1}}},[t._v("\n                                        "+t._s(t.noText)+"\n                                    ")])])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(t.lang.tabBloodGlucose.roundedLineChartsLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"function"==t.settings.curveType,"btn-outline-primary":"function"!=t.settings.curveType},attrs:{type:"button"},on:{click:function(e){t.settings.curveType="function"}}},[t._v("\n                                        "+t._s(t.yesText)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"none"==t.settings.curveType,"btn-outline-primary":"none"!=t.settings.curveType},attrs:{type:"button"},on:{click:function(e){t.settings.curveType="none"}}},[t._v("\n                                        "+t._s(t.noText)+"\n                                    ")])])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(t.lang.tabBloodGlucose.dgpTypeLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"line"==t.settings.dgpChartType,"btn-outline-primary":"line"!=t.settings.dgpChartType},attrs:{type:"button"},on:{click:function(e){t.settings.dgpChartType="line"}}},[t._v("\n                                        "+t._s(t.lang.tabBloodGlucose.dgpTypeLine)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":"scatter"==t.settings.dgpChartType,"btn-outline-primary":"scatter"!=t.settings.dgpChartType},attrs:{type:"button"},on:{click:function(e){t.settings.dgpChartType="scatter"}}},[t._v("\n                                        "+t._s(t.lang.tabBloodGlucose.dgpTypeScatter)+"\n                                    ")])])])])]),t._v(" "),n("div",{staticClass:"tab-pane tab-panel-insulin fade",class:{"show active":"v-pills-insulin-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-insulin",role:"tabpanel","aria-labelledby":"v-pills-insulin-tab"}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(t.lang.tabInsulin.displayInsulinsInAgpLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.settings.displayInsulinInAGP,"btn-outline-primary":!t.settings.displayInsulinInAGP},attrs:{type:"button"},on:{click:function(e){t.settings.displayInsulinInAGP=!0}}},[t._v("\n                                        "+t._s(t.yesText)+"\n                                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":!t.settings.displayInsulinInAGP,"btn-outline-primary":t.settings.displayInsulinInAGP},attrs:{type:"button"},on:{click:function(e){t.settings.displayInsulinInAGP=!1}}},[t._v("\n                                        "+t._s(t.noText)+"\n                                    ")])])])]),t._v(" "),t._l(t.insulinSettings,function(e){return n("div",{key:e.type,staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                                "+t._s(e.type)+" "+t._s(t.lang.tabInsulin.typeColorLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.color,expression:"insulinType.color"}],attrs:{type:"color"},domProps:{value:e.color},on:{input:function(n){n.target.composing||t.$set(e,"color",n.target.value)}}})])])})],2),t._v(" "),n("div",{staticClass:"tab-pane fade",class:{"show active":"v-pills-diary-tab"==t.settings.activeSettingsTab},attrs:{id:"v-pills-diary",role:"tabpanel","aria-labelledby":"v-pills-diary-tab"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("h5",[t._v("\n                                    "+t._s(t.lang.tabDiary.typeMealtimeTitle)+"\n                                ")])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-4 col-form-label col-form-label-sm",attrs:{for:"settingsPreMealTime"}},[t._v("\n                                "+t._s(t.lang.tabDiary.preMealtimeLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-3 col-lg-2"},[n("div",{staticClass:"input-group input-group-sm"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.preMealTimeInMinutes,expression:"settings.preMealTimeInMinutes"}],staticClass:"form-control form-control-sm",attrs:{type:"number",required:"required",min:t.mealtimeMin,max:t.mealtimeMax,step:t.mealtimeStep,id:"settingsPreMealTime"},domProps:{value:t.settings.preMealTimeInMinutes},on:{input:function(e){e.target.composing||t.$set(t.settings,"preMealTimeInMinutes",e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[t._v("\n                                            "+t._s(t.lang.tabDiary.minutes)+"\n                                        ")])]),t._v(" "),t.validationErrors.preMealTimeInMinutes?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.numberRequiredBetween))]):t._e()])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-4 col-form-label col-form-label-sm",attrs:{for:"settingsPostMealTime"}},[t._v("\n                                "+t._s(t.lang.tabDiary.postMealtimeLabel)+"\n                            ")]),t._v(" "),n("div",{staticClass:"col-sm-3 col-lg-2"},[n("div",{staticClass:"input-group input-group-sm"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.postMealTimeInMinutes,expression:"settings.postMealTimeInMinutes"}],staticClass:"form-control form-control-sm",attrs:{type:"number",required:"required",min:t.mealtimeMin,max:t.mealtimeMax,step:t.mealtimeStep,id:"settingsPostMealTime"},domProps:{value:t.settings.postMealTimeInMinutes},on:{input:function(e){e.target.composing||t.$set(t.settings,"postMealTimeInMinutes",e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[t._v("\n                                            "+t._s(t.lang.tabDiary.minutes)+"\n                                        ")])]),t._v(" "),t.validationErrors.postMealTimeInMinutes?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.numberRequiredBetween))]):t._e()])])])])])])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:t.submitted&&t.hasValidationErrors},on:{click:function(e){return t.saveSettings()}}},[n("i",{staticClass:"icon-ok"}),t._v(" "+t._s(t.okText)+"\n        ")])])])},staticRenderFns:[]},Lt=n("VU/8")(xt,Mt,!1,null,null,null).exports,Vt=n("7t+N"),Pt=n.n(Vt),zt={OneDay:"day1",OneWeek:"week1",TwoWeeks:"weeks2",OneMonth:"month1",ThreeMonths:"months3",LastThreeMonths:"months3Last",FullRange:"fullRange",Custom:"custom"},It={components:{globalSettingsDialog:Lt},data:function(){return{chartRangeSlider:null,dpStartDate:null,dpStartDateFormat:null,dpEndDate:null,dpEndDateFormat:null,focusStartDate:null,focusEndDate:null,printOptions:null,printDialogResult:"none",initialized:!1,namedRange:zt.LastThreeMonths,chartHeight:null}},methods:{initialize:function(){var t=new Date;this.dpStartDate=V.subtract3Months(t),this.dpStartDateFormat=l()(this.dpStartDate).format("YYYY-MM-DD"),this.dpEndDate=l()(t).endOf("day").toDate(),this.dpEndDateFormat=l()(this.dpEndDate).format("YYYY-MM-DD"),this.$store.commit("setSelectedRange",{start:this.dpStartDate,end:this.dpEndDate}),this.focusEndDate=l()(t).endOf("day").toDate(),this.focusStartDate=l()(this.focusEndDate).subtract(1,"years").toDate(),l()(this.focusStartDate).isBefore(this.allowedMinDate)&&(this.focusStartDate=new Date(this.allowedMinDate)),this.focusEndDate=new Date(this.dpEndDate),this.printOptions=o()({},this.globalSettings.printOptions),this.initialized=!0,t=null},setChartHeight:function(){this.chartHeight=window.innerWidth>=768?80:50},getEmptyDays:function(t){var e=this;return B()(Array(l()(this.focusEndDate).add(1,"days").diff(this.focusStartDate,"days")).keys()).map(function(t){return V.addDays(e.focusStartDate,t)}).filter(function(e){return!t.some(function(t){return V.dateEquals(t,e)})})},getEmptyMonths:function(t){var e=this;return B()(Array(l()(this.focusEndDate).add(1,"months").diff(this.focusStartDate,"months")).keys()).map(function(t){return l()(e.focusStartDate).startOf("month").add(t,"months").toDate()}).filter(function(e){return!t.some(function(t){return V.dateEquals(t[0],e)})})},invalidateIfRangeChanged:function(t,e){var n=!1,i=l()();t<this.allowedMinDate&&(t=this.allowedMinDate),i.isBefore(e)&&(e=i.endOf("day").toDate()),e<t&&(t=l()(e).subtract(1,"months").toDate());var a=this.totalDays,s=this.dpStartDate<t;V.dateEquals(this.dpStartDate,t)||(this.dpStartDate=t,this.dpStartDateFormat=l()(t).format("YYYY-MM-DD"),n=!0);var r=!s&&l()(this.dpEndDate).startOf("day").isAfter(l()(e).startOf("day"));V.dateEquals(this.dpEndDate,e)||(this.dpEndDate=e,this.dpEndDateFormat=l()(e).format("YYYY-MM-DD"),n=!0);var o=!1;if(n&&(this.setNamedSelectedRange(),this.$store.commit("setSelectedRange",{start:this.dpStartDate,end:l()(this.dpEndDate).endOf("day").toDate()}),o=a>this.globalSettings.averageModeDaysLimit&&this.totalDays<=this.globalSettings.averageModeDaysLimit||this.totalDays>this.globalSettings.averageModeDaysLimit&&a<=this.globalSettings.averageModeDaysLimit),!n&&!o)return n=null,void(i=null);var u=l()(this.focusStartDate).isAfter(this.dpStartDate),c=l()(this.focusEndDate).isBefore(this.dpEndDate),d=l()(this.focusEndDate).diff(this.focusStartDate,"days")>this.globalSettings.averageModeDaysLimit&&this.totalDays<=this.globalSettings.averageModeDaysLimit;this.totalDays<=this.globalSettings.averageModeDaysLimit?d?s?this.focusStartDate=l()(this.focusEndDate).subtract(this.globalSettings.averageModeDaysLimit-1,"days").toDate():r&&(this.focusEndDate=l()(this.focusStartDate).add(this.globalSettings.averageModeDaysLimit-1,"days").toDate()):u?(this.focusEndDate=this.dpEndDate,this.focusStartDate=l()(this.dpEndDate).subtract(1,"years").toDate(),this.focusStartDate<this.allowedMinDate&&(this.focusStartDate=this.allowedMinDate,this.focusEndDate=l()(this.focusStartDate).add(1,"years").toDate(),i.isBefore(this.focusEndDate)&&(this.focusEndDate=i.endOf("day").toDate()))):c&&(this.focusStartDate=this.dpStartDate,this.focusEndDate=l()(this.dpStartDate).add(1,"years").toDate(),i.endOf("day").isBefore(this.focusEndDate)&&(this.focusEndDate=i.endOf("day").toDate(),this.focusStartDate=l()(this.focusEndDate).subtract(1,"years").toDate(),this.focusStartDate<this.allowedMinDate&&(this.focusStartDate=this.allowedMinDate))):(this.focusStartDate=this.dpStartDate,this.focusEndDate=this.dpEndDate),u||c||o?this.invalidate():(this.chartRangeSlider.setState({range:{start:this.dpStartDate,end:l()(this.dpEndDate).endOf("day").toDate()}}),this.chartRangeSlider.clear(),this.chartRangeSlider.draw()),P.$emit("rangeChanged")},dpStartDateChanged:function(t){var e=l()(t.target.value);!e.isValid()||e.isBefore(this.dpStartMinDate)||e.isAfter(this.dpStartMaxDate)?this.dpStartDateFormat=l()(this.dpStartDate).format("YYYY-MM-DD"):this.invalidateIfRangeChanged(l()(this.dpStartDateFormat).startOf("day").toDate(),this.dpEndDate)},dpEndDateChanged:function(t){var e=l()(t.target.value);!e.isValid()||e.isBefore(this.dpEndMinDate)||e.isAfter(this.dpEndMaxDate)?this.dpEndDateFormat=l()(this.dpEndDate).format("YYYY-MM-DD"):this.invalidateIfRangeChanged(this.dpStartDate,l()(this.dpEndDateFormat).startOf("day").toDate())},setNamedSelectedRange:function(){this.isNamedDateRange(1,"day")?this.namedRange=this.namedRanges.OneDay:this.isNamedDateRange(1,"weeks")?this.namedRange=this.namedRanges.OneWeek:this.isNamedDateRange(2,"weeks")?this.namedRange=this.namedRanges.TwoWeeks:this.isNamedDateRange(1,"months")?this.namedRange=this.namedRanges.OneMonth:this.isNamedDateRange(3,"months",!0)?this.namedRange=this.namedRanges.LastThreeMonths:this.isNamedDateRange(3,"months")?this.namedRange=this.namedRanges.ThreeMonths:V.dateEquals(this.allowedMinDate,this.dpStartDate)&&V.dateEquals(this.allowedMaxDate,this.dpEndDate)?this.namedRange=this.namedRanges.FullRange:this.namedRange=this.namedRanges.Custom},isNamedDateRange:function(t,e,n){return V.dateEquals((n?l()().endOf("day"):l()(this.dpEndDate)).subtract(t,e).add(1,"days").toDate(),this.dpStartDate)},setRange:function(t,e,n,i){var a=l()().endOf("day"),s=(n?a:l()(this.dpEndDate).endOf("day")).toDate();a.isBefore(s)&&(s=a.toDate());var r=l()(s).startOf("day").subtract(t,e).add(1,"days").toDate();l()(r).isBefore(this.allowedMinDate)&&(r=this.allowedMinDate,s=l()(r).add(t,e).toDate(),a.isBefore(s)&&(s=a.toDate())),this.namedRange=i,this.invalidateIfRangeChanged(r,s),a=null,r=null,s=null},setFullRange:function(){this.namedRange=this.namedRanges.FullRange,this.invalidateIfRangeChanged(this.allowedMinDate,this.allowedMaxDate)},stepBackward:function(){if(this.canStepBackward){var t=this.dpEndDate-this.dpStartDate,e=l()(this.dpStartDate).subtract(3,"months").toDate();e<this.allowedMinDate&&(e=this.allowedMinDate),this.invalidateIfRangeChanged(e,new Date(e.getTime()+t))}},stepForward:function(){if(this.canStepForward){var t=this.dpEndDate-this.dpStartDate,e=l()(this.dpEndDate).add(3,"months").toDate(),n=l()().endOf("day");n.isBefore(e)&&(e=n.toDate()),this.invalidateIfRangeChanged(new Date(e.getTime()-t),e)}},draw:function(){var t=this;return p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new nt.a(function(e){t.dispose(),t.chartRangeSlider=new google.visualization.ControlWrapper({controlType:"ChartRangeFilter",containerId:"dashboard-filter-container",state:{range:{start:t.dpStartDate,end:l()(t.dpEndDate).add(1,"days").toDate()}},options:{filterColumnIndex:0,ui:{async:!0,chartType:"ComboChart",chartOptions:t.chartRangeOptions}}});var n=t;google.visualization.events.addListener(t.chartRangeSlider,"statechange",function(t){t.inProgress||setTimeout(function(){var e=n.chartRangeSlider.getState().range,i=l()(e.start).startOf("day"),a=l()(e.end).startOf("day");if(t.endChanged&&t.startChanged){var s=l()(n.dpEndDate).diff(n.dpStartDate,"days");if(s!=l()(a).diff(i,"days")){var r=void 0,o=void 0;switch(n.namedRange){case n.namedRanges.OneDay:r=1,o="days";break;case n.namedRanges.OneWeek:r=1,o="weeks";break;case n.namedRanges.TwoWeeks:r=2,o="weeks";break;case n.namedRanges.OneMonth:r=1,o="months";break;case n.namedRanges.ThreeMonths:case n.namedRanges.LastThreeMonths:r=3,o="months";break;default:r=s+1,o="days"}i=l()(a).subtract(r,o).add(1,"days")}}n.invalidateIfRangeChanged(i.toDate(),a.toDate())},200)});var i=new google.visualization.ChartWrapper({chartType:"LineChart",containerId:"dashboard-some-chart-container",options:{ui:{async:!0},height:1,width:10}}),a=new google.visualization.Dashboard(document.getElementById("dashboard-date-range-container"));google.visualization.events.addListener(a,"ready",function(){e()}),a.bind(t.chartRangeSlider,i),a.draw(t.chartData)}));case 1:case"end":return e.stop()}},e,t)}))()},invalidate:function(){var t=this;this.$nextTick(function(){google.charts.setOnLoadCallback(t.draw)})},dispose:function(){this.chartRangeSlider&&(this.chartRangeSlider=null)},showDialog:function(t,e){this.$refs[t].show(),e&&P.$emit("open-"+t)},closeDialog:function(t,e){this.$refs[t].hide(),e&&P.$emit("setAgpPrintView",!1)},updateGlobalSettings:function(t){var e={},n=!1;for(var i in t)this.globalSettings[i]!=t[i]&&(e[i]=!0,n=!0);this.$store.commit("setGlobalSettings",t),n&&((e.currentLanguage||e.timeScaleType)&&this.invalidate(),P.$emit("globalSettingsUpdated",{updatedSettings:t,difference:e})),e=null,n=null},setPrintSection:function(t,e){this.printOptions[t]=e,this.$store.commit("setPrintOptions",{key:t,value:e})},print:function(){var t='<div class="container-fluid">';if(this.globalSettings.printOptions.charts){for(var e=document.getElementsByClassName("print-content-diagrams"),n=0;n<e.length;n++)t+=e[n].outerHTML;P.$emit("setAgpPrintView",!0)}this.isDcmView&&this.globalSettings.printOptions.diary&&(t+=document.getElementsByClassName("print-content-diary")[0].outerHTML),t+="</div>",V.openNewPrintWindow({title:"",body:t,includeCss:!0,closeAfterPrint:!0})},touchHandler:function(t){var e="";switch(t.type){case"touchstart":e="mousedown";break;case"touchmove":e="mousemove";break;case"touchend":e="mouseup";break;default:return}var n=t.changedTouches[0],i=document.createEvent("MouseEvent");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(i),e=null,n=null,i=null},changeScaleType:function(t){this.$store.commit("setGlobalSettingsProperty",{key:"timeScaleType",value:t}),this.invalidate()},onSettingsUpdated:function(t){this.updateGlobalSettings(t),this.closeDialog("global-settings-modal")},onVResized:function(){this.setChartHeight(),this.$nextTick(this.invalidate)}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},isDcmView:function(){return"DCMView"==this.globalSettings.viewMode},allowedMinDate:function(){return this.$store.state.mainModule.range.allowedMinDate},allowedMaxDate:function(){return this.$store.state.mainModule.range.allowedMaxDate},namedRanges:function(){return zt},totalDays:function(){return this.$store.getters.totalDays},insulinMaxValuesByDays:function(){var t=this;return kt()(this.insulinValues.reduce(y,{})).map(function(e){var n=[new Date(e[0])];return t.insulinTypes.forEach(function(t){n.push(e[1].filter(function(e){return e.type==t.type}).reduce(function(t,e){return t+e.unit},0))}),n})},insulinMaxValuesByMonths:function(){var t=this;return this.insulinValues.reduce(function(e,n){var i=new Date(n.date.getFullYear(),n.date.getMonth(),1),a=e.find(function(t){return V.dateEquals(t.date,i)});return a||(a={date:i},e.push(a)),t.insulinTypes.forEach(function(t){a[t.type]||(a[t.type]={sum:0,count:0}),t.type==n.type&&(a[t.type].sum+=n.unit,a[t.type].count++)}),e},[]).map(function(e){var n=[e.date];return t.insulinTypes.forEach(function(t){n.push(e[t.type].sum/e[t.type].count)}),n})},dailyViewInsulinMax:function(){var t=0;return this.insulinMaxValuesByDays.forEach(function(e){for(var n=1;n<e.length;n++)e[n]>t&&(t=e[n])}),t},monthlyViewInsulinMax:function(){var t=0;return this.insulinMaxValuesByMonths.forEach(function(e){for(var n=1;n<e.length;n++)e[n]>t&&(t=e[n])}),Math.ceil(t)},dpStartMinDate:function(){if(this.allowedMinDate)return l()(this.allowedMinDate).format("YYYY-MM-DD")},dpStartMaxDate:function(){if(this.allowedMaxDate){var t=null;return t=this.dpEndDate?this.dpEndDate:this.allowedMaxDate,l()(t).format("YYYY-MM-DD")}},dpEndMinDate:function(){if(this.allowedMinDate){var t=null;return t=this.dpStartDate?this.dpStartDate:this.allowedMinDate,l()(t).format("YYYY-MM-DD")}},dpEndMaxDate:function(){return l()().format("YYYY-MM-DD")},lang:function(){return this.$i18n.t("settingsBar",this.globalSettings.currentLanguage)},yesText:function(){return this.$i18n.t("yes",this.globalSettings.currentLanguage)},noText:function(){return this.$i18n.t("no",this.globalSettings.currentLanguage)},okText:function(){return this.$i18n.t("ok",this.globalSettings.currentLanguage)},daysText:function(){return this.$i18n.t("days",this.globalSettings.currentLanguage)},rangePickerDateFormat:function(){return this.$i18n.t("rangePickerDateFormat",this.globalSettings.currentLanguage)},vuejsDatepickerFormat:function(){return this.$i18n.t("vuejsDatepickerFormat",this.globalSettings.currentLanguage)},datepickerFormat:function(){return this.$i18n.t("datepickerFormat",this.globalSettings.currentLanguage)},isMonthlyTimeScaleView:function(){return this.totalDays>this.globalSettings.averageModeDaysLimit},chartData:function(){if(this.initialized){var t=[];switch(this.globalSettings.timeScaleType){case"default":t=this.chartDataScaleDefault;break;case"glucose":t=this.chartDataScaleGlucose;break;case"insulin":t=this.chartDataScaleInsulin}return google.visualization.arrayToDataTable(t)}},chartDataScaleDefault:function(){var t=this,e=this.values.filter(function(e){return f(e.date,t.focusStartDate,t.focusEndDate)});if(this.isMonthlyTimeScaleView){var n=e.reduce(function(t,e){var n=new Date(e.date.getFullYear(),e.date.getMonth(),1);return t[n]?(t[n].bloodGlocoseCount+=e.bloodGlocoseCount,t[n].insulinCount-=e.insulinCount,t[n].items++):t[n]={bloodGlocoseCount:e.bloodGlocoseCount,insulinCount:-e.insulinCount,items:1},n=null,t},{});e=kt()(n).map(function(t){return[l()(new Date(t[0])).startOf("day").toDate(),t[1].bloodGlocoseCount/t[1].items,t[1].insulinCount/t[1].items]});var i=[];this.getEmptyMonths(e).forEach(function(t){i.push([t,0,0])}),(e=e.concat(i)).sort(function(t,e){return t[0]>e[0]?1:-1}),n=null,i=null}else{var a=[];this.getEmptyDays(this.values.map(function(t){return t.date})).forEach(function(t){a.push([t,0,0])}),(e=e.map(function(t){return[t.date,t.bloodGlocoseCount,-t.insulinCount]}).concat(a)).sort(function(t,e){return t[0]>e[0]?1:-1}),a=null}return[["date","Blood glucose","Insuiln"]].concat(e)},chartDataScaleGlucose:function(){var t=this,e=this.glucoseValues.filter(function(e){return f(e.date,t.focusStartDate,t.focusEndDate)}).reduce(function(t,e){var n=new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),i=t.find(function(t){return V.dateEquals(t.date,n)});return i||(i={date:n,min:null,max:null},t.push(i)),(!i.min||i.min.value>e.value)&&(i.min=e),(!i.max||i.max.value<e.value)&&(i.max=e),i.max&&i.min&&i.max.value==i.min.value&&(i.max=null),t},[]),n=e.map(function(t){return t.min}),i=e.filter(function(t){return t.max}).map(function(t){return t.max});e=n.concat(i).sort(V.sortByDate);var a=n.concat(i).sort(V.sortByDate);if(this.isMonthlyTimeScaleView){var s=a.reduce(function(t,e){var n=new Date(e.date.getFullYear(),e.date.getMonth(),1);return t[n]||(t[n]={sum:0,count:0,min:null,minIsVeryLow:null,max:null,maxIsVeryHigh:null}),t[n].sum+=e.value,t[n].count++,(!t[n].min||t[n].min>e.value)&&(t[n].min=e.value,t[n].minIsVeryLow=e.agpIsVeryLow),(!t[n].max||t[n].max<e.value)&&(t[n].max=e.value,t[n].maxIsVeryHigh=e.agpIsVeryHigh),t},{});a=kt()(s).map(function(t){return[l()(new Date(t[0])).startOf("day").toDate(),t[1].minIsVeryLow?t[1].min:null,t[1].minIsVeryLow?null:t[1].min,t[1].sum/t[1].count,t[1].maxIsVeryHigh?null:t[1].max,t[1].maxIsVeryHigh?t[1].max:null,null]});var r=[];this.getEmptyMonths(a).forEach(function(t){r.push([t,null,null,null,null,null,0])}),a=a.concat(r).sort(function(t,e){return t[0]>e[0]?1:-1}),e=null}else{a=a.map(function(t){return[t.date,t.agpIsVeryLow?t.value:null,t.agpIsLow?t.value:null,t.agpIsInTarget?t.value:null,t.agpIsHigh?t.value:null,t.agpIsVeryHigh?t.value:null,0]});var o=[];this.getEmptyDays(e.map(function(t){return t.date})).forEach(function(t){o.push([t,null,null,null,null,null,0])}),a=a.concat(o).sort(function(t,e){return t[0]>e[0]?1:-1}),e=null}return[[{type:"date"},{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"}]].concat(a)},chartDataScaleInsulin:function(){var t=this;if(this.isMonthlyTimeScaleView){var e=this.insulinMaxValuesByMonths,n=[];this.getEmptyMonths(e).forEach(function(e){n.push([e].concat(t.insulinTypes.map(function(t){return 0})))}),e=e.concat(n).sort(function(t,e){return t[0]>e[0]?1:-1})}else{var i=[];this.getEmptyDays(this.insulinValues.map(function(t){return t.date})).forEach(function(e){i.push([e].concat(t.insulinTypes.map(function(t){return 0})))});e=this.insulinMaxValuesByDays.concat(i).sort(function(t,e){return t[0]>e[0]?1:-1})}return[["date"].concat(this.insulinTypes.map(function(t){return t.type}))].concat(e)},chartRangeOptions:function(){switch(this.globalSettings.timeScaleType){case"default":return this.chartRangeOptionsScaleDefault;case"glucose":return this.chartRangeOptionsScaleGlucose;case"insulin":return this.chartRangeOptionsScaleInsulin}},chartRangeOptionsCommon:function(){return this.setChartHeight(),{height:this.chartHeight,hAxis:{format:this.rangePickerDateFormat},chartArea:{height:this.chartHeight,left:20,right:5,top:0,bottom:0}}},chartRangeOptionsScaleDefault:function(){var t=this.values.reduce(function(t,e){return t.maxGlucose<e.bloodGlocoseCount&&(t.maxGlucose=e.bloodGlocoseCount),t.maxInsulin<e.insulinCount&&(t.maxInsulin=e.insulinCount),t},{maxGlucose:0,maxInsulin:0});return t.maxInsulin%5!=0?t.maxInsulin=t.maxInsulin+(5-t.maxInsulin%5):t.maxInsulin+=5,t.maxGlucose%5!=0?t.maxGlucose=t.maxGlucose+(5-t.maxGlucose%5):t.maxGlucose+=5,t.maxInsulin>t.maxGlucose?t.maxGlucose=t.maxInsulin:t.maxInsulin=t.maxGlucose,t.maxInsulin*=-1,o()({},this.chartRangeOptionsCommon,{colors:["#5b9bd5","#ff7f27"],seriesType:"steppedArea",lineWidth:0,areaOpacity:1,vAxis:{viewWindow:{min:t.maxInsulin,max:t.maxGlucose},gridlines:{color:"#efefef",count:5},textPosition:"out",textStyle:{fontSize:8,bold:!1}}})},chartRangeOptionsScaleGlucose:function(){return o()({},this.chartRangeOptionsCommon,{colors:[S,C,T,"#f7d61c",x,"transparent"],seriesType:"scatter",pointSize:1,vAxis:{viewWindow:{min:-15,max:45},gridlines:{color:"#efefef"},textPosition:"out",textStyle:{fontSize:8,bold:!1},ticks:[0,40]}})},chartRangeOptionsScaleInsulin:function(){return o()({},this.chartRangeOptionsCommon,{colors:this.insulinTypes.map(function(t){return t.color}),seriesType:"bars",vAxis:{viewWindow:{min:-15,max:(this.isMonthlyTimeScaleView?this.monthlyViewInsulinMax:this.dailyViewInsulinMax)+5},gridlines:{color:"#efefef"},textPosition:"out",textStyle:{fontSize:8,bold:!1},ticks:[0,this.isMonthlyTimeScaleView?this.monthlyViewInsulinMax:this.dailyViewInsulinMax]}})},settings:function(){return o()({},this.globalSettings)},printOptionsSelected:function(){for(var t in this.printOptions)if(this.printOptions[t])return!0},canStepBackward:function(){return this.dpStartDate>this.allowedMinDate},canStepForward:function(){return l()().endOf("day").isAfter(this.dpEndDate)}},filters:{displayDate:function(t,e){return l()(t).format(e)}},mounted:function(){this.initialize(),this.invalidate(),this.$nextTick(function(){Pt()(".collapse-navigation").on("click",function(t){Pt()(".navbar-collapse-buttons").removeClass("show")})}),P.$on("settings-updated",this.onSettingsUpdated),P.$on("vResized",this.onVResized),document.addEventListener("touchstart",this.touchHandler),document.addEventListener("touchmove",this.touchHandler),document.addEventListener("touchend",this.touchHandler)},beforeDestroy:function(){this.dispose(),P.$off("settings-updated",this.onSettingsUpdated),P.$off("vResized",this.onVResized),document.removeEventListener("touchstart",this.touchHandler),document.removeEventListener("touchmove",this.touchHandler),document.removeEventListener("touchend",this.touchHandler)},props:["values","glucoseValues","insulinValues","insulinTypes"]},Rt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar fixed-top navbar-expand-md navbar-light bg-light navbar-charts-navigation"},[t._m(0),t._v(" "),n("div",{staticClass:"date-wrapper"},[n("div",{staticClass:"input-group input-group-sm"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dpStartDateFormat,expression:"dpStartDateFormat"}],staticClass:"form-control form-control-sm date-component datepicker",attrs:{type:"date",required:"required",min:t.dpStartMinDate,max:t.dpStartMaxDate},domProps:{value:t.dpStartDateFormat},on:{change:t.dpStartDateChanged,input:function(e){e.target.composing||(t.dpStartDateFormat=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dpEndDateFormat,expression:"dpEndDateFormat"}],staticClass:"form-control form-control-sm date-component datepicker",attrs:{type:"date",required:"required",min:t.dpEndMinDate,max:t.dpEndMaxDate},domProps:{value:t.dpEndDateFormat},on:{change:t.dpEndDateChanged,input:function(e){e.target.composing||(t.dpEndDateFormat=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("span",{staticClass:"input-group-text date-component total-days"},[t._v(t._s(t.totalDays)+" "+t._s(t.daysText))])])])]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-print btn-print-sm collapse-navigation",attrs:{type:"button"},on:{click:function(e){return t.showDialog("print-modal")}}},[n("i",{staticClass:"icon-print"})]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-settings btn-settings-sm",attrs:{type:"button"},on:{click:function(e){return t.showDialog("global-settings-modal",1)}}},[n("i",{staticClass:"icon-cog"})]),t._v(" "),n("div",{staticClass:"collapse navbar-collapse navbar-collapse-buttons",attrs:{id:"navbar-navigation"}},[n("div",{staticClass:"row mt-2 mt-lg-0"},[n("div",{staticClass:"col col-left"},[n("button",{staticClass:"btn btn-sm mb-1 mr-1 mb-md-0 btn-named-range collapse-navigation d-md-none d-lg-inline-block",class:{"btn-outline-primary":t.namedRange==t.namedRanges.OneDay,"btn-primary":t.namedRange!=t.namedRanges.OneDay},attrs:{type:"button"},on:{click:function(e){return t.setRange(1,"days",!1,t.namedRanges.OneDay)}}},[n("span",{staticClass:"d-none d-lg-inline"},[t._v(t._s(t.lang.day1))]),t._v(" "),n("span",{staticClass:"d-lg-none"},[t._v(t._s(t.lang.day1Short))])]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-1 mr-1 mb-md-0 btn-named-range collapse-navigation",class:{"btn-outline-primary":t.namedRange==t.namedRanges.OneWeek,"btn-primary":t.namedRange!=t.namedRanges.OneWeek},attrs:{type:"button"},on:{click:function(e){return t.setRange(1,"weeks",!1,t.namedRanges.OneWeek)}}},[n("span",{staticClass:"d-none d-lg-inline"},[t._v(t._s(t.lang.week1))]),t._v(" "),n("span",{staticClass:"d-lg-none"},[t._v(t._s(t.lang.week1Short))])]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-1 mr-1 mb-md-0 btn-named-range collapse-navigation",class:{"btn-outline-primary":t.namedRange==t.namedRanges.TwoWeeks,"btn-primary":t.namedRange!=t.namedRanges.TwoWeeks},attrs:{type:"button"},on:{click:function(e){return t.setRange(2,"weeks",!1,t.namedRanges.TwoWeeks)}}},[n("span",{staticClass:"d-none d-lg-inline"},[t._v(t._s(t.lang.weeks2))]),t._v(" "),n("span",{staticClass:"d-lg-none"},[t._v(t._s(t.lang.weeks2Short))])]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-1 mr-1 mb-md-0 btn-named-range collapse-navigation",class:{"btn-outline-primary":t.namedRange==t.namedRanges.OneMonth,"btn-primary":t.namedRange!=t.namedRanges.OneMonth},attrs:{type:"button"},on:{click:function(e){return t.setRange(1,"months",!1,t.namedRanges.OneMonth)}}},[n("span",{staticClass:"d-none d-lg-inline"},[t._v(t._s(t.lang.month1))]),t._v(" "),n("span",{staticClass:"d-lg-none"},[t._v(t._s(t.lang.month1Short))])]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-1 mr-1 mb-md-0 btn-named-range collapse-navigation",class:{"btn-outline-primary":t.namedRange==t.namedRanges.ThreeMonths,"btn-primary":t.namedRange!=t.namedRanges.ThreeMonths},attrs:{type:"button"},on:{click:function(e){return t.setRange(3,"months",!1,t.namedRanges.ThreeMonths)}}},[n("span",{staticClass:"d-none d-lg-inline"},[t._v(t._s(t.lang.months3))]),t._v(" "),n("span",{staticClass:"d-lg-none"},[t._v(t._s(t.lang.months3Short))])]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-1 mr-1 mb-md-0 btn-named-range collapse-navigation",class:{"btn-outline-primary":t.namedRange==t.namedRanges.LastThreeMonths,"btn-primary":t.namedRange!=t.namedRanges.LastThreeMonths},attrs:{type:"button"},on:{click:function(e){return t.setRange(3,"months",!0,t.namedRanges.LastThreeMonths)}}},[n("span",{staticClass:"d-none d-lg-inline"},[t._v(t._s(t.lang.months3Last))]),t._v(" "),n("span",{staticClass:"d-lg-none"},[t._v(t._s(t.lang.months3LastShort))])]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-1 mb-md-0 btn-named-range collapse-navigation",class:{"btn-outline-primary":t.namedRange==t.namedRanges.FullRange,"btn-primary":t.namedRange!=t.namedRanges.FullRange},attrs:{type:"button"},on:{click:function(e){return t.setFullRange()}}},[n("span",{staticClass:"d-none d-xl-inline"},[t._v(t._s(t.lang[t.namedRanges.FullRange])+":")]),t._v("\n                "+t._s(t._f("displayDate")(t.allowedMinDate,t.datepickerFormat))+"-"+t._s(t._f("displayDate")(t.allowedMaxDate,t.datepickerFormat))+"\n            ")])]),t._v(" "),n("div",{staticClass:"col col-right"},[n("button",{staticClass:"btn btn-primary btn-settings collapse-navigation",attrs:{type:"button"},on:{click:function(e){return t.showDialog("global-settings-modal",1)}}},[n("i",{staticClass:"icon-cog"})])])])])]),t._v(" "),n("div",{staticClass:"container-fluid date-range-container-fluid mb-3"},[n("div",{staticClass:"row row-date-range"},[n("div",{staticClass:"col-12 settings-bar-time-scale-type-selector"},[n("div",{staticClass:"time-scale-inner"},[t.isDcmView?n("button",{staticClass:"btn btn-scale-type",class:{"btn-outline-primary":"default"==t.globalSettings.timeScaleType,"btn-primary":"default"!=t.globalSettings.timeScaleType},attrs:{type:"button"},on:{click:function(e){return t.changeScaleType("default")}}},[t._v("\n              "+t._s(t.lang.timeScaleDefault)+"\n            ")]):t._e(),t._v(" "),t.isDcmView?n("button",{staticClass:"btn btn-scale-type",class:{"btn-outline-primary":"glucose"==t.globalSettings.timeScaleType,"btn-primary":"glucose"!=t.globalSettings.timeScaleType},attrs:{type:"button"},on:{click:function(e){return t.changeScaleType("glucose")}}},[t._v("\n              "+t._s(t.lang.timeScaleGlucose)+"\n            ")]):t._e(),t._v(" "),t.isDcmView?n("button",{staticClass:"btn btn-scale-type",class:{"btn-outline-primary":"insulin"==t.globalSettings.timeScaleType,"btn-primary":"insulin"!=t.globalSettings.timeScaleType},attrs:{type:"button"},on:{click:function(e){return t.changeScaleType("insulin")}}},[t._v("\n              "+t._s(t.lang.timeScaleInsulin)+"\n            ")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-12 p-0"},[n("div",{staticClass:"date-range-dashboard",attrs:{id:"dashboard-date-range-container"}},[n("div",{attrs:{id:"dashboard-some-chart-container"}}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col year-pager year-pager-backward"},[n("button",{staticClass:"btn btn-primary btn-range-step",class:{"btn-primary":t.canStepBackward,"btn-secondary":!t.canStepBackward},attrs:{type:"button",disabled:!t.canStepBackward},on:{click:function(e){return t.stepBackward()}}},[n("i",{staticClass:"icon-double-angle-left"})])]),t._v(" "),n("div",{staticClass:"col dashboard-filter-container",attrs:{id:"dashboard-filter-container"}}),t._v(" "),n("div",{staticClass:"col year-pager year-pager-forward"},[n("button",{staticClass:"btn btn-range-step",class:{"btn-primary":t.canStepForward,"btn-secondary":!t.canStepForward},attrs:{type:"button",disabled:!t.canStepForward},on:{click:function(e){return t.stepForward()}}},[n("i",{staticClass:"icon-double-angle-right"})])])])])])])]),t._v(" "),n("b-modal",{ref:"global-settings-modal",attrs:{size:"xl",scrollable:"","no-close-on-esc":!0,"no-close-on-backdrop":!0,"hide-footer":!0}},[n("template",{slot:"modal-header"},[n("div",{staticClass:"row w-100"},[n("div",{staticClass:"col"},[n("h4",{staticClass:"modal-title mt-1 mb-1 d-inline-block"},[n("i",{staticClass:"icon-cog"}),t._v("\n                      "+t._s(t.lang.globalSettingsDialogTitle)+"\n                  ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-secondary float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.closeDialog("global-settings-modal")}}},[n("i",{staticClass:"icon-remove"})])])])]),t._v(" "),n("template",{slot:"default"},[n("global-settings-dialog",{attrs:{"insulin-types":t.insulinTypes}})],1)],2),t._v(" "),n("b-modal",{ref:"print-modal",attrs:{scrollable:"","no-close-on-esc":!0,"no-close-on-backdrop":!0}},[n("template",{slot:"modal-header"},[n("div",{staticClass:"row w-100"},[n("div",{staticClass:"col"},[n("h4",{staticClass:"modal-title mt-1 mb-1 d-inline-block"},[n("i",{staticClass:"icon-print"}),t._v("\n                      "+t._s(t.lang.printDialogTitle)+"\n                  ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-outline-secondary float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.closeDialog("print-modal",1)}}},[n("i",{staticClass:"icon-remove"})])])])]),t._v(" "),n("template",{slot:"default"},[t.initialized?n("div",{staticClass:"p-3"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                  "+t._s(t.lang.printGroupCharts)+"\n                ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.printOptions.charts,"btn-outline-primary":!t.printOptions.charts},attrs:{type:"button"},on:{click:function(e){return t.setPrintSection("charts",!0)}}},[t._v("\n                      "+t._s(t.yesText)+"\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":!t.printOptions.charts,"btn-outline-primary":t.printOptions.charts},attrs:{type:"button"},on:{click:function(e){return t.setPrintSection("charts",!1)}}},[t._v("\n                      "+t._s(t.noText)+"\n                    ")])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isDcmView,expression:"isDcmView"}],staticClass:"row"},[n("label",{staticClass:"col-sm-6 col-form-label col-form-label-sm"},[t._v("\n                  "+t._s(t.lang.printGroupDiary)+"\n                ")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.printOptions.diary,"btn-outline-primary":!t.printOptions.diary},attrs:{type:"button"},on:{click:function(e){return t.setPrintSection("diary",!0)}}},[t._v("\n                      "+t._s(t.yesText)+"\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm",class:{"btn-primary":!t.printOptions.diary,"btn-outline-primary":t.printOptions.diary},attrs:{type:"button"},on:{click:function(e){return t.setPrintSection("diary",!1)}}},[t._v("\n                      "+t._s(t.noText)+"\n                    ")])])])]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.printOptionsSelected,expression:"!printOptionsSelected"}],staticClass:"alert alert-warning border-warning mt-3"},[n("i",{staticClass:"icon-warning-sign"}),t._v("\n                "+t._s(t.lang.printDialogNothingToPrint)+"\n              ")])]):t._e()]),t._v(" "),n("template",{slot:"modal-footer"},[n("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.printOptionsSelected,"btn-outline-primary":!t.printOptionsSelected},attrs:{type:"button",disabled:!t.printOptionsSelected},on:{click:function(e){return t.print()}}},[t._v("\n              "+t._s(t.okText)+"\n          ")])])],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler navbar-collapse-button",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar-navigation","aria-controls":"navbar-navigation","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]},Ft=n("VU/8")(It,Rt,!1,null,null,null).exports,Bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.wrapperClasses,style:t.wrapperTopComputed},[n("div",{staticClass:"col col-percent p-0"},[n("strong",[t._v(t._s(t.glucosePercentage)+"%")])]),t._v(" "),n("div",{staticClass:"col col-count p-0"},[t._v("\n        ("+t._s(t.measurementsCount)+" "+t._s(t.countUnit)+")\n    ")]),t._v(" "),n("div",{staticClass:"col col-range-name p-0"},[n("strong",[t._v(t._s(t.rangeCaption))]),t._v(" "),n("span",{staticClass:"d-none d-sm-inline range-labels"},[t._v("\n            ("+t._s(t.referenceMin)+" "+t._s(t.unit)+" - "+t._s(t.referenceMax)+" "+t._s(t.unit)+")\n        ")])]),t._v(" "),n("div",{staticClass:"col col-reference d-sm-none p-0"},[t._v("\n        ("+t._s(t.referenceMin)+" "+t._s(t.unit)+" - "+t._s(t.referenceMax)+" "+t._s(t.unit)+")\n    ")]),t._v(" "),n("div",{staticClass:"col col-hours p-0"},[n("span",{staticClass:"d-none d-md-inline"},[t._v(t._s(t.hourScale))]),t._v(" "),n("span",{staticClass:"d-md-none"},[t._v(t._s(t.hourScaleSm))])])])},staticRenderFns:[]},Et={components:{targetRangeLegend:n("VU/8")({computed:{unit:function(){return this.$store.state.globalSettingsModule.globalSettings.unit},countUnit:function(){return this.$i18n.t("countUnit",this.currentLanguage)},wrapperTopComputed:function(){if(this.wrapperTop)return"top:calc("+this.wrapperTop+"% - 12.5px)"}},props:["wrapperClasses","wrapperTop","glucosePercentage","measurementsCount","rangeCaption","referenceMin","referenceMax","hourScale","hourScaleSm"]},Bt,!1,null,null,null).exports},data:function(){return{chartHeight:153,chart:null,initialized:!1,isSmSize:this.isSmallSize()}},methods:{isSmallSize:function(){return window.innerWidth<1024},draw:function(){var t=this;return p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new nt.a(function(e){if(t.noData)return e();t.dispose(),t.chart=new google.visualization.ColumnChart(document.getElementById("target-range-chart-area"));var n=t;t.initialized=!1,google.visualization.events.addListener(t.chart,"ready",function(t){n.initialized=!0,n=null,e()}),t.chart.draw(t.chartData,t.chartOptions)}));case 1:case"end":return e.stop()}},e,t)}))()},invalidate:function(){var t=this;this.$nextTick(function(){google.charts.setOnLoadCallback(p()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.draw();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)})))})},dispose:function(){this.chart&&(this.chart.clearChart(),this.chart=null)},onGlobalSettingsUpdated:function(t){(t.difference.currentLanguage||t.difference.unit)&&this.invalidate()},onVResized:function(){this.isSmSize=this.isSmallSize(),this.invalidate()},getHourScalePercent:function(t){return t/100*1440},floorHours:function(t){return Math.floor(t/60)},modMinutes:function(t){return V.round(t%60)},getHourScaleFormatted:function(t,e){var n=l()(this.dateBase).add({hours:this.hourScaledValues.hours[t],minutes:this.hourScaledValues.minutes[t]});return n.days()?"24 "+(e?this.hourSm:this.hour)+" 0 "+(e?this.minuteSm:this.minute):n.format(e?this.hourMinuteFormatSm:this.hourMinuteFormat)}},computed:{currentLanguage:function(){return this.$store.state.globalSettingsModule.globalSettings.currentLanguage},unit:function(){return this.$store.state.globalSettingsModule.globalSettings.unit},lang:function(){return this.$i18n.t("targetRangeChart",this.currentLanguage)},loadingText:function(){return this.$i18n.t("loadingText",this.currentLanguage)},glucosePercentages:function(){var t={sLow:V.getPercentage(this.statisticalData.sLow,this.statisticalData.count),low:V.getPercentage(this.statisticalData.low,this.statisticalData.count),inTarget:0,high:V.getPercentage(this.statisticalData.high,this.statisticalData.count),sHigh:V.getPercentage(this.statisticalData.sHigh,this.statisticalData.count)};return this.statisticalData.inTarget&&(t.inTarget=V.round(100-(t.sLow+t.low+t.high+t.sHigh),1)),t},noData:function(){return this.glucosePercentages.sLow+this.glucosePercentages.low+this.glucosePercentages.inTarget+this.glucosePercentages.high+this.glucosePercentages.sHigh==0},percentageStacked:function(){var t={low:V.round(this.glucosePercentages.sLow+this.glucosePercentages.low,1)};return t.inTarget=V.round(t.low+this.glucosePercentages.inTarget,1),t.high=V.round(t.inTarget+this.glucosePercentages.high,1),t.high=V.round(100-((t.high-t.inTarget)/2+t.inTarget),1),t.inTarget=V.round(100-((t.inTarget-t.low)/2+t.low),1),t.low=V.round(100-((t.low-this.glucosePercentages.sLow)/2+this.glucosePercentages.sLow),1),t.low>91&&(t.low=91),t.inTarget>t.low-16&&(t.inTarget=t.low-16),t.high>t.inTarget-16&&(t.high=t.inTarget-16),t.high<7&&(t.high=7),t.inTarget<t.high+16&&(t.inTarget=t.high+16),t.low<t.inTarget+16&&(t.low=t.inTarget+16),t},percentageReferences:function(){return{sLow:[L[this.unit].min.toFixed(1),L[this.unit].sLowLimit.toFixed(1)],low:[(L[this.unit].sLowLimit+.1).toFixed(1),L[this.unit].lowLimit.toFixed(1)],inTarget:[(L[this.unit].lowLimit+.1).toFixed(1),L[this.unit].highLimit.toFixed(1)],high:[(L[this.unit].highLimit+.1).toFixed(1),L[this.unit].sHighLimit.toFixed(1)],sHigh:[(L[this.unit].sHighLimit+.1).toFixed(1),L[this.unit].max.toFixed(1)]}},targetRangeStacked:function(){var t={sLow:this.glucosePercentages.sLow,low:this.glucosePercentages.low,inTarget:this.glucosePercentages.inTarget,high:this.glucosePercentages.high};return t.low=V.round(t.low+t.sLow,1),t.inTarget=V.round(t.inTarget+t.low,1),t.high=V.round(t.high+t.inTarget,1),t.sLow>85&&(t.sLow=85),t.low<t.sLow+5?t.low=t.sLow+5:t.low>t.inTarget-5&&(t.low=t.inTarget-5),t.inTarget<t.low+5?t.inTarget=t.low+5:t.inTarget>t.high-5&&(t.inTarget=t.high-5),t.high<t.inTarget+5&&(t.high=t.inTarget+5),t.sLow=V.round(100-t.sLow,1),t.low=V.round(100-t.low,1),t.inTarget=V.round(100-t.inTarget,1),t.high=V.round(100-t.high,1),t},targetRangeStackedValues:function(){return{sHigh:V.round(L[this.unit].sHighLimit,1).toFixed(1),high:V.round(L[this.unit].highLimit,1).toFixed(1),low:V.round(L[this.unit].lowLimit,1).toFixed(1),sLow:V.round(L[this.unit].sLowLimit,1).toFixed(1)}},showTargetRangeStackedSlow:function(){return this.glucosePercentages.sLow>0&&this.glucosePercentages.low>0},chartData:function(){return google.visualization.arrayToDataTable([["",this.lang.veryLowCaption,{role:"style"},this.lang.lowCaption,{role:"style"},this.lang.inTargetCaption,{role:"style"},this.lang.highCaption,{role:"style"},this.lang.veryHighCaption,{role:"style"}],["",this.glucosePercentages.sLow,S,this.glucosePercentages.low,C,this.glucosePercentages.inTarget,T,this.glucosePercentages.high,k,this.glucosePercentages.sHigh,x]])},chartOptions:function(){return{async:!0,allowAsync:!0,tooltip:{trigger:"none"},height:this.chartHeight,width:42,chartArea:{left:0,right:0,top:0,bottom:0},isStacked:!0,legend:{position:"none"},bar:{groupWidth:45},vAxis:{baselineColor:"transparent",gridlines:{count:0,color:"transparent"}}}},hourMinuteFormat:function(){return"H ["+this.hour+"] m ["+this.minute+"]"},hourMinuteFormatSm:function(){return"H["+this.hourSm+"] m["+this.minuteSm+"]"},dateBase:function(){return new Date(0,0,0)},hourScaledValues:function(){var t=this.getHourScalePercent(this.glucosePercentages.sHigh),e=this.getHourScalePercent(this.glucosePercentages.high),n=this.getHourScalePercent(this.glucosePercentages.low),i=this.getHourScalePercent(this.glucosePercentages.sLow),a={hours:{sHigh:this.floorHours(t),high:this.floorHours(e),inTarget:0,low:this.floorHours(n),sLow:this.floorHours(i)},minutes:{sHigh:this.modMinutes(t),high:this.modMinutes(e),inTarget:0,low:this.modMinutes(n),sLow:this.modMinutes(i)}},s=1440-(60*(a.hours.sHigh+a.hours.high+a.hours.low+a.hours.sLow)+(a.minutes.sHigh+a.minutes.high+a.minutes.low+a.minutes.sLow));return a.hours.inTarget=this.floorHours(s),a.minutes.inTarget=this.modMinutes(s),a},hourScalesSm:function(){return{sHigh:this.getHourScaleFormatted("sHigh",!0),high:this.getHourScaleFormatted("high",!0),inTarget:this.getHourScaleFormatted("inTarget",!0),low:this.getHourScaleFormatted("low",!0),sLow:this.getHourScaleFormatted("sLow",!0)}},hourScales:function(){return{sHigh:this.getHourScaleFormatted("sHigh"),high:this.getHourScaleFormatted("high"),inTarget:this.getHourScaleFormatted("inTarget"),low:this.getHourScaleFormatted("low"),sLow:this.getHourScaleFormatted("sLow")}},hour:function(){return this.$i18n.t("hour",this.currentLanguage)},hourSm:function(){return this.$i18n.t("hourSm",this.currentLanguage)},minute:function(){return this.$i18n.t("minute",this.currentLanguage)},minuteSm:function(){return this.$i18n.t("minuteSm",this.currentLanguage)},countUnit:function(){return this.$i18n.t("countUnit",this.currentLanguage)}},mounted:function(){this.invalidate(),P.$on("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$on("rangeChanged",this.invalidate),P.$on("vResized",this.onVResized)},beforeDestroy:function(){this.dispose(),P.$off("globalSettingsUpdated",this.onGlobalSettingsUpdated),P.$off("rangeChanged",this.invalidate),P.$off("vResized",this.onVResized)},props:["statisticalData"]},At={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg target-range-chart my-4 my-md-5 my-lg-0",style:"height:"+t.chartHeight+"px"},[t.noData?t._e():n("div",{staticClass:"row"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.initialized,expression:"!initialized"}],staticClass:"col loading-spinner d-print-none text-primary"},[n("div",{staticClass:"spinner-border mb-3",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v(t._s(t.loadingText))])]),t._v(" "),n("p",[t._v(t._s(t.loadingText))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.initialized,expression:"initialized"}],staticClass:"col targe-range-limits p-0"},[n("ul",{staticClass:"list-unstyled range-limit-list"},[n("li",{staticClass:"high",style:"top:calc("+t.targetRangeStacked.high+"% - 4px)"},[t._v(t._s(t.targetRangeStackedValues.sHigh))]),t._v(" "),n("li",{staticClass:"in-target",style:"top:calc("+t.targetRangeStacked.inTarget+"% - 4px)"},[t._v(t._s(t.targetRangeStackedValues.high))]),t._v(" "),n("li",{staticClass:"low",style:"top:calc("+t.targetRangeStacked.low+"% - "+(t.showTargetRangeStackedSlow?"4":"0")+"px)"},[t._v(t._s(t.targetRangeStackedValues.low))]),t._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:t.showTargetRangeStackedSlow,expression:"showTargetRangeStackedSlow"}],staticClass:"slow",style:"top:calc("+t.targetRangeStacked.sLow+"% - 4px)"},[t._v(t._s(t.targetRangeStackedValues.sLow))])])]),t._v(" "),t._m(0),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.initialized,expression:"initialized"}],staticClass:"col target-range-column-percent pr-0 mr-lg-n1 mr-xl-0"},[n("ul",{staticClass:"list-unstyled percent-list"},[n("target-range-legend",{attrs:{"wrapper-classes":"shigh row align-items-end","glucose-percentage":t.glucosePercentages.sHigh,"measurements-count":t.statisticalData.sHigh,"range-caption":t.lang.veryHighCaption,"reference-min":t.percentageReferences.sHigh[0],"reference-max":t.percentageReferences.sHigh[1],"hour-scale":t.hourScales.sHigh,"hour-scale-sm":t.hourScalesSm.sHigh}}),t._v(" "),n("target-range-legend",{attrs:{"wrapper-classes":"high row align-items-center","wrapper-top":t.percentageStacked.high,"glucose-percentage":t.glucosePercentages.high,"measurements-count":t.statisticalData.high,"range-caption":t.lang.highCaption,"reference-min":t.percentageReferences.high[0],"reference-max":t.percentageReferences.high[1],"hour-scale":t.hourScales.high,"hour-scale-sm":t.hourScalesSm.high}}),t._v(" "),n("target-range-legend",{attrs:{"wrapper-classes":"in-target row align-items-center","wrapper-top":t.percentageStacked.inTarget,"glucose-percentage":t.glucosePercentages.inTarget,"measurements-count":t.statisticalData.inTarget,"range-caption":t.lang.inTargetCaption,"reference-min":t.percentageReferences.inTarget[0],"reference-max":t.percentageReferences.inTarget[1],"hour-scale":t.hourScales.inTarget,"hour-scale-sm":t.hourScalesSm.inTarget}}),t._v(" "),n("target-range-legend",{attrs:{"wrapper-classes":"low row align-items-center","wrapper-top":t.percentageStacked.low,"glucose-percentage":t.glucosePercentages.low,"measurements-count":t.statisticalData.low,"range-caption":t.lang.lowCaption,"reference-min":t.percentageReferences.low[0],"reference-max":t.percentageReferences.low[1],"hour-scale":t.hourScales.low,"hour-scale-sm":t.hourScalesSm.low}}),t._v(" "),n("target-range-legend",{attrs:{"wrapper-classes":"slow row align-items-start","glucose-percentage":t.glucosePercentages.sLow,"measurements-count":t.statisticalData.sLow,"range-caption":t.lang.veryLowCaption,"reference-min":t.percentageReferences.sLow[0],"reference-max":t.percentageReferences.sLow[1],"hour-scale":t.hourScales.sLow,"hour-scale-sm":t.hourScalesSm.sLow}})],1)])]),t._v(" "),t.noData?n("p",{staticClass:"alert alert-warning"},[n("i",{staticClass:"icon-info-sign"}),t._v("\n    "+t._s(t.lang.noData)+"\n  ")]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col col-target-range-chart text-right"},[e("div",{staticClass:"chart-inner"},[e("div",{attrs:{id:"target-range-chart-area"}})])])}]},Ht=n("VU/8")(Et,At,!1,null,null,null).exports,$t=n("mvHQ"),Ut=n.n($t),Gt=n("pFYg"),jt=n.n(Gt),Ot={constants:{globalSettings:"AGPReports.GlobalSettings",patientsSettings:"AGPReports.PatientsSettings"},getGlobalSettings:function(){var t={viewMode:"OfficialAGP",averageModeDaysLimit:365,currentLanguage:"hu",unit:"mmol/l",dgpChartType:"scatter",midlineType:"median",curveType:"none",displayAverageLines:!0,diaryType:"hourly",preMealTimeInMinutes:30,postMealTimeInMinutes:120,displayInsulinInAGP:!1,displayNonMeasurableValues:!0,dgpDialogMode:"normal",printOptions:{charts:!0,diary:!1},colorBasal:null,colorBolus:null,colorMix:null,timeScaleType:"default"};if("undefined"==typeof Storage||jt()(Storage)){var e=localStorage.getItem(Ot.constants.globalSettings);e&&o()(t,JSON.parse(e)),e=null}return l.a.locale(t.currentLanguage),t},updateGlobalSettings:function(t){l.a.locale(t.currentLanguage),("undefined"==typeof Storage||jt()(Storage))&&localStorage.setItem(Ot.constants.globalSettings,Ut()(t))},getPatientSettings:function(t){var e={mealtime:{breakfast:"07:00",elevenses:null,lunch:"12:00",afternoonsnack:null,dinner:"18:00"}};if("undefined"==typeof Storage||jt()(Storage)){var n=Ot.getPatientsSettings()[t];n&&o()(e,n)}return e},setPatientSettings:function(t,e){if("undefined"==typeof Storage||jt()(Storage)){var n=Ot.getPatientsSettings();n[t]||(n[t]={}),o()(n[t],e),localStorage.setItem(Ot.constants.patientsSettings,Ut()(n))}},getPatientsSettings:function(){var t={},e=localStorage.getItem(Ot.constants.patientsSettings);return e&&o()(t,JSON.parse(e)),t}},Nt=Ot,Yt=(n("ua7m"),{name:"App",components:{agpChart:R,agpHighcharts:U,bloodGlucoseDiaryHourly:J,bloodGlucoseDiaryMealtime:tt,dgpCharts:dt,glucoseStatisticsAgp:pt,insulinStatistics:bt,mealtimeEditor:Dt,patient:Ct,settingsBar:Ft,targetRangeChart:Ht},data:function(){return{bloodGlucoseValues:[],insulinValues:[],insulinTypes:[],originalUnit:"",rangePickerValues:[],clientWidth:window.innerWidth}},methods:{initialize:function(){var t=this;g.a.get(this.baseUrl).then(function(e){var n=e.data;t.$store.commit("initializePatient",n.parameters.patient),t.originalUnit=n.parameters.unit.toLowerCase().trim(),t.globalSettings.unit||t.$store.commit("setGlobalSettingsProperty",{key:"unit",value:t.originalUnit}),t.insulinTypes=n.parameters.insulintypes.map(function(t){return{type:t.type.toLowerCase().trim(),color:t.color.toLowerCase().trim()}}),t.updateInsulinTypeColor(_,"colorBasal"),t.updateInsulinTypeColor(w,"colorBolus"),t.updateInsulinTypeColor(D,"colorMix");var i=L[t.globalSettings.unit].sLowLimit,a=L[t.globalSettings.unit].lowLimit,s=L[t.globalSettings.unit].highLimit,l=L[t.globalSettings.unit].sHighLimit;t.bloodGlucoseValues=n.bgms.map(function(e){return e.values.map(function(n){var r=+n.measuretype,o=+n.glucose,u=V.changeUnit(o,t.originalUnit,t.globalSettings.unit),c=u<=i,d=!c&&u<=a,g=u>l,h=!g&&u>s;return{bgmrangelow:e.bgmrangelow,bgmrangehigh:e.bgmrangehigh,date:new Date(n.measuredate),value:o,type:r,measurable:o>=e.bgmrangelow&&o<=e.bgmrangehigh,agpIsVeryLow:c,agpIsLow:d,agpIsInTarget:!(c||d||h||g),agpIsHigh:h,agpIsVeryHigh:g}})}).reduce(function(t,e){return t.concat(e)}).sort(V.sortByDate),t.insulinValues=n.insulins.map(function(t){return{type:t.type,name:t.name,values:t.values.map(function(t){return{date:new Date(t.injdate),unit:t.injunit,duration:t.injtime}})}}),t.initializeRangePickerValues()})},getCountOfGlucoseForRange:function(t){return this.filteredBloodGlucoseValues.filter(function(e){return!0===e[t]}).length},updateInsulinTypeColor:function(t,e){var n=this;this.globalSettings[e]&&this.insulinTypes.forEach(function(i){i.type==t&&(i.color=n.globalSettings[e])})},initializeRangePickerValues:function(){var t=function(t){return c()(t).map(function(e){return{date:e,bloodGlocoseCount:t[e],insulinCount:0}})},e=function(t){return c()(t).map(function(e){return{date:e,bloodGlocoseCount:0,insulinCount:t[e]}})},n=function(t){return c()(t).map(function(e){var n=t[e][0],i=t[e][1],a=n.bloodGlocoseCount,s=n.insulinCount;return i&&(a+=i.bloodGlocoseCount,s+=i.insulinCount),{date:new Date(e),bloodGlocoseCount:a,insulinCount:s}})},i=t(this.bloodGlucoseValues.reduce(b,{})),a=e(this.ungroupInsulins().reduce(b,{}));this.rangePickerValues=n(i.concat(a).reduce(y,{})).sort(V.sortByDate),t=null,e=null,n=null,i=null,a=null;var s=l()().endOf("day").toDate();this.$store.commit("initializeRange",{allowedMinDate:l()(this.rangePickerValues[0].date).startOf("day").toDate(),allowedMaxDate:l()(this.rangePickerValues[this.rangePickerValues.length-1].date).endOf("day").toDate(),selectedMinDate:V.subtract3Months(s),selectedMaxDate:s}),this.rangePickerValues.sort(V.sortByDate)},ungroupInsulins:function(){var t=this;return this.insulinValues.map(function(e){var n=t.insulinTypes.filter(function(t){return t.type==e.type})[0];return e.values.map(function(t){return o()({name:e.name,type:n.type},t)})}).reduce(function(t,e){return t.concat(e)})},setDiaryType:function(t){this.$store.commit("setGlobalSettingsProperty",{key:"diaryType",value:t})},editMealtime:function(t){P.$emit("open-mealtime-editor",{type:t})},onGlobalSettingsUpdated:function(t){t.difference.colorBasal&&this.updateInsulinTypeColor(_,"colorBasal"),t.difference.colorBolus&&this.updateInsulinTypeColor(w,"colorBolus"),t.difference.colorMix&&this.updateInsulinTypeColor(D,"colorMix")},onWindowResized:function(){this.clientWidth!=window.innerWidth&&(this.clientWidth=window.innerWidth,P.$emit("vResized"))}},computed:{globalSettings:function(){return this.$store.state.globalSettingsModule.globalSettings},selectedMinDate:function(){return this.$store.state.mainModule.range.selectedMinDate},selectedMaxDate:function(){return this.$store.state.mainModule.range.selectedMaxDate},totalDays:function(){return this.$store.getters.totalDays},mealtimeFormat:function(){var t=this.$store.getters.patientMealtimes,e={};return c()(t).forEach(function(n){e[n]=t[n]?V.shortTime(t[n]):"-"}),e},filteredBloodGlucoseValues:function(){var t=this;return this.bloodGlucoseValues&&this.selectedMinDate&&this.selectedMaxDate?this.bloodGlucoseValues.filter(function(e){return!(!t.globalSettings.displayNonMeasurableValues&&!e.measurable)&&(e.date>=t.selectedMinDate&&e.date<t.selectedMaxDate)}):[]},filteredInsulinValuesByBrands:function(){var t=this;return this.insulinValues&&this.selectedMinDate&&this.selectedMaxDate?this.insulinValues.map(function(e){return{insulinType:e.type,name:e.name,values:e.values.filter(function(e){return f(e.date,t.selectedMinDate,t.selectedMaxDate)})}}):[]},insulinValuesInBulk:function(){return this.insulinValues&&this.selectedMinDate&&this.selectedMaxDate?this.ungroupInsulins():[]},filteredInsulinValuesInBulk:function(){var t=this;return this.insulinValuesInBulk.filter(function(e){return f(e.date,t.selectedMinDate,t.selectedMaxDate)})},statisticalData:function(){var t=this,e={avg:0,gmi:null,sLow:0,low:0,inTarget:0,high:0,sHigh:0,sum:0,count:this.filteredBloodGlucoseValues.length,sd:0,cv:0,atpd:0,maxValue:0};return e.count&&(e.sLow=this.getCountOfGlucoseForRange("agpIsVeryLow"),e.low=this.getCountOfGlucoseForRange("agpIsLow"),e.high=this.getCountOfGlucoseForRange("agpIsHigh"),e.sHigh=this.getCountOfGlucoseForRange("agpIsVeryHigh"),e.inTarget=this.getCountOfGlucoseForRange("agpIsInTarget"),e.maxValue=this.filteredBloodGlucoseValues.reduce(function(n,i){var a=V.changeUnit(i.value,t.originalUnit,t.globalSettings.unit);return a>n&&(n=a),e.sum+=a,a=null,n},0),e.avg=e.sum/e.count,e.gmi=L.gmiConstant+L.gmiMultiplier*("mmol/l"==this.globalSettings.unit?18*e.avg:e.avg),e.sd=Math.sqrt(this.filteredBloodGlucoseValues.reduce(function(n,i){var a=V.changeUnit(i.value,t.originalUnit,t.globalSettings.unit);return n+Math.pow(Math.abs(a-e.avg),2)},0)/e.count),e.cv=e.sd/e.avg*100,this.rangePickerValues.filter(function(e){return f(e.date,t.selectedMinDate,t.selectedMaxDate)}).forEach(function(t){e.atpd+=t.bloodGlocoseCount}),e.atpd/=this.totalDays),e},isDcmView:function(){return"DCMView"==this.globalSettings.viewMode},insulinBrands:function(){var t=this;return this.filteredInsulinValuesByBrands.map(function(e){var n=t.insulinTypes.filter(function(t){return t.type==e.insulinType})[0];return{name:e.name,type:n.type}}).filter(function(e){return t.filteredInsulinValuesInBulk.some(function(t){return t.type==e.type})})},lang:function(){return this.$i18n.t("app",this.globalSettings.currentLanguage)},breakfastLabel:function(){return this.$i18n.t("breakfast",this.globalSettings.currentLanguage)},elevensesLabel:function(){return this.$i18n.t("elevenses",this.globalSettings.currentLanguage)},lunchLabel:function(){return this.$i18n.t("lunch",this.globalSettings.currentLanguage)},afternoonsnackLabel:function(){return this.$i18n.t("afternoonsnack",this.globalSettings.currentLanguage)},dinnerLabel:function(){return this.$i18n.t("dinner",this.globalSettings.currentLanguage)}},mounted:function(){google.charts.load("current",{packages:["corechart","controls"]}),this.initialize(),P.$on("globalSettingsUpdated",this.onGlobalSettingsUpdated),window.addEventListener("resize",this.onWindowResized),window.addEventListener("afterprint",this.onAfterPrint)},beforeDestroy:function(){P.$off("globalSettingsUpdated",this.onGlobalSettingsUpdated),window.removeEventListener("resize",this.onWindowResized),window.removeEventListener("afterprint",this.onAfterPrint)},props:["baseUrl","patientProfileRawUrl"]}),Wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid main-container"},[t.globalSettings.unit&&t.originalUnit?n("div",[t.rangePickerValues&&t.rangePickerValues.length?n("settings-bar",{attrs:{values:t.rangePickerValues,"glucose-values":t.bloodGlucoseValues,"insulin-values":t.insulinValuesInBulk,"insulin-types":t.insulinTypes}}):t._e(),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card card-diagram-block"},[n("div",{staticClass:"card-body py-lg-2 px-lg-1"},[t._m(0),t._v(" "),n("patient",{attrs:{"patient-profile-raw-url":t.patientProfileRawUrl}}),t._v(" "),n("div",{staticClass:"row statistic-row glucose-statistic-row print-content-diagrams",class:{"mb-lg-4":t.isDcmView}},[n("glucose-statistics-agp",{attrs:{"statistical-data":t.statisticalData}}),t._v(" "),n("target-range-chart",{attrs:{"statistical-data":t.statisticalData}})],1),t._v(" "),t.filteredInsulinValuesInBulk.length&&t.isDcmView?n("insulin-statistics",{attrs:{"insulin-brands":t.insulinBrands,"insulin-types":t.insulinTypes,"insulin-values":t.filteredInsulinValuesByBrands}}):t._e(),t._v(" "),n("agp-highcharts",{attrs:{"filtered-blood-glucose-values":t.filteredBloodGlucoseValues,"filtered-insulin-values-by-brands":t.filteredInsulinValuesByBrands,"insulin-types":t.insulinTypes}}),t._v(" "),n("agp-chart",{attrs:{"filtered-blood-glucose-values":t.filteredBloodGlucoseValues,"filtered-insulin-values-by-brands":t.filteredInsulinValuesByBrands,"insulin-brands":t.insulinBrands,"insulin-types":t.insulinTypes,"insulins-count":t.filteredInsulinValuesInBulk.length,"original-unit":t.originalUnit,"daily-charts-v-max":t.statisticalData.maxValue}}),t._v(" "),n("dgp-charts",{attrs:{"glucose-values":t.filteredBloodGlucoseValues,"insulin-values":t.filteredInsulinValuesInBulk,"insulin-types":t.insulinTypes,"daily-charts-v-max":t.statisticalData.maxValue,"original-unit":t.originalUnit}})],1)])])]),t._v(" "),t.isDcmView?n("div",{staticClass:"row print-content-diary",class:{"diary-print-margin":t.globalSettings.printOptions.charts}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card card-diagram-block"},[n("div",{staticClass:"card-header"},[n("h5",{staticClass:"text-center block-title"},[t._v(t._s(t.lang.bloodGlucoseDiaryTitle))])]),t._v(" "),n("div",{staticClass:"card-body py-lg-2 px-lg-1"},[n("span",{staticClass:"badge badge-primary badge-information d-print-none"},[n("span",{staticClass:"icon-info"}),t._v(" "),"mealtime"==t.globalSettings.diaryType?n("div",[t._v("\n                A kiválsztott dátumtartományon belüli összes mérések és inzulinok megjelenítése a "),n("u",[t._v("vércukornapló")]),t._v("ban,\n                figyelembe véve az étkezés előtti/utáni céltartományokat és étkezési időpontokat.\n                "),n("br"),t._v(" "),n("br"),t._v(" "),n("ul",{staticClass:"list-unstyled"},[n("li",[n("strong",[t._v("Étkezés előtti időszak")]),t._v(": étkezési időszak kezdete "),n("u",[t._v("-"+t._s(t.globalSettings.preMealTimeInMinutes)+" perc")]),t._v(", és étkezési időszak kezdete közötti idő\n                  ")]),t._v(" "),n("li",[n("strong",[t._v("Étkezés utáni időszak")]),t._v(": étkezési időszak vége, és étkezési időszak vége "),n("u",[t._v("+"+t._s(t.globalSettings.postMealTimeInMinutes)+" perc")]),t._v(" közötti idő\n                  ")]),t._v(" "),t._m(1),t._v(" "),n("li",[n("br"),t._v("\n                    Mérések szín szerint:\n                    "),n("br"),t._v(" "),t._m(2),t._v(" "),n("br"),t._v("\n                    Inzulinok szín szerint:\n                    "),n("ul",{staticClass:"list-inline"},t._l(t.insulinTypes,function(e){return n("li",{key:e.type,staticClass:"list-inline-item"},[n("strong",{staticClass:"badge badge-pill text-white",style:"background-color:"+e.color},[t._v("\n                          "+t._s(e.type)+"\n                        ")])])}),0),t._v(" "),n("br")]),t._v(" "),n("li",[t._v("\n                    Az értékek fölé mozgatva az egeret megjelenik a pontos időpont.\n                  ")])])]):t._e(),t._v(" "),"hourly"==t.globalSettings.diaryType?n("div",[t._m(3),t._v(" "),t._m(4),t._v(" "),n("br"),t._v("\n                Mérések szín szerint:\n                    "),n("br"),t._v(" "),t._m(5),t._v(" "),n("br"),t._v("\n                    Inzulinok szín szerint:\n                    "),n("ul",{staticClass:"list-inline"},t._l(t.insulinTypes,function(e){return n("li",{key:e.type,staticClass:"list-inline-item"},[n("strong",{staticClass:"badge badge-pill text-white",style:"background-color:"+e.color},[t._v("\n                          "+t._s(e.type)+"\n                        ")])])}),0),t._v(" "),n("br"),t._v(" "),n("p",[t._v("\n                    Az értékek fölé mozgatva az egeret megjelenik a pontos időpont.\n                  ")])]):t._e()]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-4 mb-2 text-center text-lg-left d-print-none pl-lg-4"},[n("button",{staticClass:"btn btn-sm mb-2",class:{"btn-primary":"hourly"==t.globalSettings.diaryType,"btn-outline-primary":"hourly"!=t.globalSettings.diaryType},attrs:{type:"button"},on:{click:function(e){return t.setDiaryType("hourly")}}},[n("i",{class:{"icon-check":"hourly"==t.globalSettings.diaryType,"icon-check-empty":"hourly"!=t.globalSettings.diaryType}}),t._v("\n                    "+t._s(t.lang.diaryTypeHourlyText)+"\n                  ")]),t._v(" "),n("button",{staticClass:"btn btn-sm mb-2",class:{"btn-primary":"mealtime"==t.globalSettings.diaryType,"btn-outline-primary":"mealtime"!=t.globalSettings.diaryType},attrs:{type:"button"},on:{click:function(e){return t.setDiaryType("mealtime")}}},[n("i",{class:{"icon-check":"mealtime"==t.globalSettings.diaryType,"icon-check-empty":"mealtime"!=t.globalSettings.diaryType}}),t._v("\n                    "+t._s(t.lang.diaryTypeMealtimeText)+"\n                  ")])]),t._v(" "),"mealtime"==t.globalSettings.diaryType?n("div",{staticClass:"col-lg-8 mb-2 pr-lg-0"},[n("div",{staticClass:"text-center text-lg-right"},[n("div",{staticClass:"d-inline d-lg-block d-xl-inline"},[n("button",{staticClass:"btn btn-sm bg-info text-light mb-2",on:{click:function(e){return t.editMealtime("breakfast")}}},[n("strong",[t._v(t._s(t.breakfastLabel)+":")]),t._v(" "+t._s(t.mealtimeFormat.breakfast)+"\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm bg-info text-light mb-2",on:{click:function(e){return t.editMealtime("elevenses")}}},[n("strong",[t._v(t._s(t.elevensesLabel)+":")]),t._v(" "+t._s(t.mealtimeFormat.elevenses)+"\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm bg-info text-light mb-2",on:{click:function(e){return t.editMealtime("lunch")}}},[n("strong",[t._v(t._s(t.lunchLabel)+":")]),t._v(" "+t._s(t.mealtimeFormat.lunch)+"\n                    ")])]),t._v(" "),n("div",{staticClass:"d-inline d-lg-block d-xl-inline"},[n("button",{staticClass:"btn btn-sm bg-info text-light mb-2",on:{click:function(e){return t.editMealtime("afternoonsnack")}}},[n("strong",[t._v(t._s(t.afternoonsnackLabel)+":")]),t._v(" "+t._s(t.mealtimeFormat.afternoonsnack)+"\n                    ")]),t._v(" "),n("button",{staticClass:"btn btn-sm bg-info text-light mb-2",on:{click:function(e){return t.editMealtime("dinner")}}},[n("strong",[t._v(t._s(t.dinnerLabel)+":")]),t._v(" "+t._s(t.mealtimeFormat.dinner)+"\n                    ")])])]),t._v(" "),n("mealtime-editor")],1):t._e()]),t._v(" "),"mealtime"==t.globalSettings.diaryType?n("blood-glucose-diary-mealtime",{attrs:{"glucose-values":t.filteredBloodGlucoseValues,"insulin-values":t.filteredInsulinValuesInBulk,"original-unit":t.originalUnit,"insulin-types":t.insulinTypes}}):t._e(),t._v(" "),"hourly"==t.globalSettings.diaryType?n("blood-glucose-diary-hourly",{attrs:{"original-unit":t.originalUnit,"glucose-values":t.filteredBloodGlucoseValues,"insulin-values":t.filteredInsulinValuesInBulk,"insulin-types":t.insulinTypes}}):t._e()],1)])])]):t._e()],1):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"badge badge-primary badge-information"},[n("span",{staticClass:"icon-info"}),t._v(" "),n("div",[n("ul",{staticClass:"list-unstyled"},[n("li",[n("h4",[t._v("Oszlop diagram")]),t._v(" "),n("ul",[n("li",[t._v("\n                        A kiválsztott dátumtartományon belüli összes mérések megoszlása az adott céltartományhoz tekintve.\n                        A céltartomány a hivatalos "),n("a",{attrs:{href:"http://www.agpreport.org/agp/agpreports",target:"_blank"}},[t._v("AGP szerinti")]),t._v(".\n                      ")])])]),t._v(" "),n("li",[n("h4",[t._v("Vércukor statisztikák")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("Mérési dátumtartomány: ")]),t._v(" -tól -ig dátum.\n                      ")]),t._v(" "),n("li",[n("strong",[t._v("Átlagos napi mérésszám: ")]),t._v("A mérési eredmények összege osztva a mérési tartományonban lévő napok számával.\n                      ")]),t._v(" "),n("li",[n("strong",[t._v("Vércukor átlag: ")]),t._v("A mérési eredmények összege osztva a mérések darabszámával.\n                      ")]),t._v(" "),n("li",[n("strong",[t._v("Glucose Management Indicator (GMI): ")]),t._v(" A vércukor átlagból számítható; A1c becsült értéke.\n                      ")]),t._v(" "),n("li",[n("strong",[t._v("Variációs együttható: ")]),t._v(": A mérési eredmények egymástól való távolságát írja le, ami ideális esetben egy alacsony szám.\n                      ")]),t._v(" "),n("li",[n("strong",[t._v("Szórás: ")]),t._v(" A mérések átlagtól való eltérése, ami ideális esetben egy alacsony szám\n                      ")])])]),t._v(" "),n("li",[n("h4",[t._v("Ambuláns glükózprofil")]),t._v(" "),n("ul",[n("li",[t._v("A kiválsztott dátumtartományon belüli összes mérések száma egy napra vetítve. (0-24 óra). Tartalmazza az alábbiakat:\n                        "),n("ul",[n("li",[n("strong",{staticStyle:{color:"gray"}},[t._v("Szürke sáv")]),t._v(": céltartomány")]),t._v(" "),n("li",[n("strong",{staticStyle:{color:"#99c26b"}},[t._v("Zöld vonalak")]),t._v(": Összes mérés alsó és felső 10%-a. (ideális esetben)")]),t._v(" "),n("li",[n("strong",{staticStyle:{color:"#50a9d8"}},[t._v("Kék vonalak")]),t._v(": A mérések 50%-a. (ideális esetben)")]),t._v(" "),n("li",[n("strong",{staticStyle:{color:"#f68b1e"}},[t._v("Narancssárga")]),t._v(": középérték vagy átlag")])])])])]),t._v(" "),n("li",[n("h4",[t._v("Napi glükózprofil")]),t._v(" "),n("ul",[n("li",[t._v("A kiválsztott dátumtartományon belüli összes mérések naponként")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("br"),this._v("\n                    A táblázat fejléce igazodik ezen időszakokhoz.\n                  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-shigh"},[t._v("Nagyon magas")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-high"},[t._v("Magas")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-target"},[t._v("Normál")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-low"},[t._v("Alacsony")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-slow"},[t._v("Nagyon alacsony")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n                A kiválsztott dátumtartományon belüli összes mérések és inzulinok megjelenítése "),e("u",[this._v("vércukornapló")]),this._v("ban,\n                figyelembe véve, hogy a páciens milyen jelölést használt a mérés során,\n                valamint az étkezés előtti/utáni céltartományokat. A páciens által az alábbi jelölők használhatók:\n                ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Étkezés előtti")]),this._v(" "),e("li",[this._v("Étkezés utáni")]),this._v(" "),e("li",[this._v("Normál (nincs jelölés)")]),this._v(" "),e("li",[this._v("Egyéb")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-shigh"},[t._v("Nagyon magas")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-high"},[t._v("Magas")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-target"},[t._v("Normál")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-low"},[t._v("Alacsony")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("strong",{staticClass:"text-slow"},[t._v("Nagyon alacsony")])])])}]},qt=n("VU/8")(Yt,Wt,!1,null,null,null).exports,Xt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid unsupported"},[e("p",{staticClass:"alert alert-danger"},[this._v("\n        Kérjük, használja az alábbi böngészők egyikét:\n        "),e("br"),this._v("\n        Please, use one of the following browsers:\n\n        "),e("ul",{staticClass:"list-inline browser-list"},[e("li",{staticClass:"list-inline-item"},[e("a",{staticClass:"chrome",attrs:{target:"_blank",href:"https://www.google.com/search?q=chrome+download"}},[e("span",[this._v("Google Chrome")])])]),this._v(" "),e("li",{staticClass:"list-inline-item"},[e("a",{staticClass:"firefox",attrs:{target:"_blank",href:"https://www.google.com/search?q=firefox+download"}},[e("span",[this._v("Mozilla Firefox")])])]),this._v(" "),e("li",{staticClass:"list-inline-item"},[e("a",{staticClass:"opera",attrs:{target:"_blank",href:"https://www.google.com/search?q=opera+download"}},[e("span",[this._v("Opera")])])])])])])}]},Kt=n("VU/8")(null,Xt,!1,null,null,null).exports,Jt=(n("K3J8"),n("TXmL")),Zt=n("STOt"),Qt=n.n(Zt),te={state:{range:{allowedMinDate:null,allowedMaxDate:null,selectedMinDate:null,selectedMaxDate:null},diarySelectedDay:null,patient:{id:null,firstname:null,lastname:null,prefix:null,settings:{mealtime:{breakfast:null,elevenses:null,lunch:null,afternoonsnack:null,dinner:null}}}},mutations:{initializeRange:function(t,e){o()(t.range,e)},setSelectedRange:function(t,e){t.range.selectedMinDate=e.start,t.range.selectedMaxDate=e.end},setDiaryDate:function(t,e){t.diarySelectedDay=e},initializePatient:function(t,e){o()(t.patient,e),o()(t.patient.settings,Nt.getPatientSettings(e.id))},updatePatientMealtime:function(t,e){o()(t.patient.settings.mealtime,e),Nt.setPatientSettings(t.patient.id,t.patient.settings)}},getters:{totalDays:function(t){return V.getTotalDays(t.range.selectedMaxDate,t.range.selectedMinDate)},patientMealtimes:function(t){return{breakfast:V.convertTimeString(t.patient.settings.mealtime.breakfast),elevenses:V.convertTimeString(t.patient.settings.mealtime.elevenses),lunch:V.convertTimeString(t.patient.settings.mealtime.lunch),afternoonsnack:V.convertTimeString(t.patient.settings.mealtime.afternoonsnack),dinner:V.convertTimeString(t.patient.settings.mealtime.dinner)}},getPatientName:function(t){return function(e){var n=[];return"hu"==e?n.push(t.patient.prefix,t.patient.lastname,t.patient.firstname):n.push(t.patient.prefix,t.patient.firstname,t.patient.lastname),n.filter(function(t){return!!t}).join(" ")}}}},ee={state:{globalSettings:Nt.getGlobalSettings()},mutations:{setGlobalSettings:function(t,e){o()(t.globalSettings,e),setTimeout(function(){Nt.updateGlobalSettings(t.globalSettings)})},setGlobalSettingsProperty:function(t,e){t.globalSettings[e.key]=e.value,setTimeout(function(){Nt.updateGlobalSettings(t.globalSettings)})},setPrintOptions:function(t,e){t.globalSettings.printOptions[e.key]=e.value,setTimeout(function(){Nt.updateGlobalSettings(t.globalSettings)})}}},ne=n("e6fC"),ie=n.n(ne),ae=n("8smA"),se=n("JJ92"),le=!!document.documentMode,re=!le&&!!window.StyleMedia;if(!(le||re)){i.default.use(Jt.a),i.default.use(ie.a),i.default.use(ae.a),i.default.use(se.a),i.default.config.productionTip=!1,i.default.filter("round",function(t,e){return V.round(t,e).toFixed(e)}),i.default.filter("formatDate",function(t){if(t)return l()(t).format("YYYY. MMMM DD.")}),i.default.filter("shortDate",function(t){if(t)return l()(t).format("YYYY.MM.DD.")}),i.default.filter("shortTime",function(t){return V.shortTime(t)}),i.default.use(a.a);var oe=new a.a.Store({modules:{mainModule:te,globalSettingsModule:ee}}),ue=new Jt.a({locale:"hu",messages:Qt.a}),ce="charts-main-container",de=document.getElementById(ce);new i.default({i18n:ue,store:oe,el:"#"+ce,render:function(t){return t(qt,{props:{baseUrl:de.dataset.baseUrl,patientProfileRawUrl:de.dataset.patientProfileUrl}})}})}else new i.default({el:"#"+ce,render:function(t){return t(Kt)}})},STOt:function(t,e){t.exports={en:{yes:"Yes",no:"No",ok:"Ok",hour:"hr",hourSm:"h",minute:"mins",minuteSm:"m",vuejsDatepickerFormat:"dd/MM/yyyy",datepickerFormat:"DD/MM/YYYY",fullDateFormat:"DD/MM/YYYY h.mm a",semiLongDateFormat:"DD MMM YYYY",rangePickerDateFormat:"MM/yyyy",targetRanges:"Target ranges",insulinUnitTitle:"Insulin Unit (U)",moreButtonText:"Load earlier datas",bgLowText:"Low",bgHighText:"High",loadingText:"loading...",breakfast:"Breakfast",elevenses:"Elevenses",lunch:"Lunch",afternoonsnack:"Afternoon Snack",dinner:"Dinner",countUnit:"pcs",app:{bloodGlucoseDiaryTitle:"Blood sugar diary",diaryTypeHourlyText:"Hourly",diaryTypeMealtimeText:"Mealtime"},days:"days",daysSelected:"days selected",insulinUnitShort:"U",settingsBar:{day1:"1 day",day1Short:"1d",week1:"1 week",week1Short:"1w",weeks2:"2 weeks",weeks2Short:"2w",month1:"1 months",month1Short:"1m",months3:"3 months",months3Short:"3m",months3Last:"Last 3 months",months3LastShort:"Last 3m",fullRange:"All",currentLanguageCaption:"Language",currentUnitCaption:"Unit",globalSettingsDialogTitle:"Settings",printDialogTitle:"Print",printGroupCharts:"Charts",printGroupDiary:"Blood glucose diary",printDialogNothingToPrint:"Please, select at least one group",timeScaleDefault:"Number of meas./injs.",timeScaleGlucose:"Glucose values",timeScaleInsulin:"Insulin dosage",timeScaleSteps:"Steps"},glucoseStatisticsAgp:{glucoseStatisticsVTitle:"Glucose Statistics",averageTestsPerDayLabel:"Average Tests per Day",sumTestsLabel:"All tests",averageGlucoseLabel:"Average Glucose",gmiLabel:"Glucose Management Indicator (GMI)",covLabel:"Coefficient of Variation",sdLabel:"Standard Deviation (SD)"},glucoseStatisticsDcm:{glucoseStatisticsVTitle:"Glucose Statistics",averageGlucosTitle:"Avg Glucose",seriousLowTitle:"Very Low",belowValue:"Below {value}",lowTitle:"Low",below:"below",inTargetRangeTitle:"In Target Range",glucoseRangesSubtitle:"Target Range",HighTitle:"High",aboveValue:"Above {value}",seriousHighTitle:"Very High",covTitleP1:"Coefficient",covTitleP2:"of Variation",sdTitle:"SD",glucoseVariabiltySubtitle:"GLUCOSE VARIABILITY",averageTestsPerDayTitle:"Daily average",averageTestsPerDayUnit:"meas./day",measurementsCount:"Measurements",minRequiredMeasurements:"min. {0} meas. required"},insulinStatistics:{mainTitle:"Insulin Statistics",dailyAverages:"Average of daily injected unit / daily injection",injectionUnitAndDuration:"Average unit per injection / duration"},agpChart:{chartTitle:"Ambulatory Glucose Profile",time:"Time",agpScatterValues:"SMBG Data Point",veryLowValues:"Very Low",lowValues:"Low",normalValues:"In Target",highValues:"High",veryHighValues:"Very High",targetRangeLegend:"Target Range",insulin:"Insulin",axisHour:"Hour",axisMeasurements:"Meas.",noDataText:"There is not enough data in the given interval to display in the Ambulatory Glucose Profile.",averageModeDaysLimitText:"To display the Ambulatory Glucose Profile, it is necessary to specify an interval of less than 1 year."},targetRangeChart:{measurementsCount:"Measurements",ranges:"Ranges",veryLowCaption:"Very Low",lowCaption:"Low",inTargetCaption:"In Target",highCaption:"High",veryHighCaption:"Very High",noData:"No enough data"},dpgCharts:{chartTitle:"Daily Glucose Profile",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],clearSelection:"Clear selection",modalTitle:"Custom chart - {0}",noData:"No data",daySelectionWarnMessage:"Up to {0} days can be selected."},dgpCustomChart:{noDataText:"No data to display.",diagramTypeLabel:"Diagram type",diagramTypeSd:"Standard deviation",diagramTypeNormal:"Line",glucoseSdLegend:"Glucose AVG ± SD",avgTooltip:"Average",sdTooltip:"SD"},bloodGlucoseDiary:{shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],down:"Down",beforeBreakfast:"Before breakfast",afterBreakfast:"After breakfast",forenoon:"Forenoon",beforeElevenses:"Before elevenses",afterElevenses:"After elevenses",beforeLunch:"Before lunch",afterLunch:"After lunch",afternoon:"Afternoon",beforeAfternoonsnack:"Before snacktime",afterAfternoonsnack:"After snacktime",beforeDinner:"Before dinner",afterDinner:"After dinner",evening:"Evening",date:"Date",dateFormatterFirstLine:"MM/DD",dateFormatterSecondLine:"YYYY"},globalSettingsDialog:{navigationViewMode:"View mode",navigationUnit:"Unit",navigationBloodGlucose:"Blood glucose",navigationInsulin:"Insulin",navigationDiary:"Diary",navigationLanguage:"Language",tabBloodGlucose:{averageLinesLabel:"Display average lines",roundedLineChartsLabel:"Rounded line charts",dgpTypeLabel:"DGP diagram type",dgpTypeLine:"Line",dgpTypeScatter:"Scatter",displayNonMeasurableValuesLabel:"Display non-measurable values",midlineTypeLabel:"Midline type",midlineTypeAvg:"Average",midlineTypeMedian:"Median"},tabInsulin:{displayInsulinsInAgpLabel:"Display insulin datas in AGP",typeColorLabel:"color"},tabDiary:{typeMealtimeTitle:"Related to Mealtime",preMealtimeLabel:"Pre mealtime period",postMealtimeLabel:"Post mealtime period",minutes:"minutes",numberRequiredBetween:"Value must be between {0} and {1}"},tabViewModel:{AGP:"AGP",DCM:"DCM View"}},colorPicker:{selectColorButtonCaption:"Select"},mealtimeEditor:{modalTitle:"Edit meal times",timeRequired:"Time is required.",timeInvalid:"Invalid time.",timeConflict:"At least 2.5 hours required between mealtimes."},patient:{patientProfileNameLabel:"Name",patientProfileLinkLabel:"Patient profile"}},hu:{yes:"Igen",no:"Nem",ok:"Ok",hour:"óra",hourSm:"ó",minute:"perc",minuteSm:"p",vuejsDatepickerFormat:"yyyy.MM.dd",datepickerFormat:"YYYY.MM.DD",fullDateFormat:"YYYY.MM.DD HH:mm",semiLongDateFormat:"YYYY. MMM DD.",rangePickerDateFormat:"yyyy.MM",insulinUnitTitle:"Inzulin Egység (E)",moreButtonText:"Korábbi adatok betöltése",bgLowText:"Al.",bgHighText:"Magas",loadingText:"betöltés...",breakfast:"Reggeli",elevenses:"Tízórai",lunch:"Ebéd",afternoonsnack:"Uzsonna",dinner:"Vacsora",countUnit:"db",app:{bloodGlucoseDiaryTitle:"Vércukornapló",diaryTypeHourlyText:"Órás felosztású",diaryTypeMealtimeText:"Étkezés szerinti"},days:"nap",daysSelected:"nap kijelölve",insulinUnitShort:"E",settingsBar:{day1:"1 nap",day1Short:"1nap",week1:"1 hét",week1Short:"1hét",weeks2:"2 hét",weeks2Short:"2hét",month1:"1 hónap",month1Short:"1hó",months3:"3 hónap",months3Short:"3hó",months3Last:"Utolsó 3 hónap",months3LastShort:"Utolsó 3hó",fullRange:"Mind",currentLanguageCaption:"Nyelv",currentUnitCaption:"Mértékegység",globalSettingsDialogTitle:"Beállítások",printDialogTitle:"Nyomtatás",printGroupCharts:"Diagramok",printGroupDiary:"Vércukornapló",printDialogNothingToPrint:"Kérjük, legalább egy csoportot válasszon ki!",timeScaleDefault:"Mérés/beadás darabszámok",timeScaleGlucose:"Vércukor mérés értékek",timeScaleInsulin:"Inzulin beadás egységek",timeScaleSteps:"Napi lépésszám"},glucoseStatisticsAgp:{glucoseStatisticsVTitle:"Vércukor statisztikák",averageTestsPerDayLabel:"Átlagos napi mérésszám",sumTestsLabel:"összes mérésszám",averageGlucoseLabel:"Vércukor átlag",gmiLabel:"Glucose Management Indicator (GMI)",covLabel:"Variációs együttható",sdLabel:"Szórás (SD)"},glucoseStatisticsDcm:{glucoseStatisticsVTitle:"Vércukor statisztikák",averageGlucosTitle:"Átl. glükóz",seriousLowTitle:"Nagyon alacsony",belowValue:"{value} alatt",lowTitle:"Alacsony",below:"alatt",inTargetRangeTitle:"Normál tartomány",glucoseRangesSubtitle:"Céltartomány",HighTitle:"Magas",aboveValue:"{value} felett",seriousHighTitle:"Nagyon magas",covTitleP1:"Variációs",covTitleP2:"együttható",sdTitle:"SD",glucoseVariabiltySubtitle:"Vércukor változékonyság",averageTestsPerDayTitle:"Napi átlag",averageTestsPerDayUnit:"mérés/nap",measurementsCount:"Mérésszám",minRequiredMeasurements:"min. {0} db adat szükséges"},insulinStatistics:{mainTitle:"Inzulin statisztikák",dailyAverages:"Napi átlagos beadott egység / napi beadás szám",injectionUnitAndDuration:"Beadásonként átlag egység szám / beadási hossz"},agpChart:{chartTitle:"Ambuláns glükózprofil",time:"Idő",agpScatterValues:"Mérési eredmények",veryLowValues:"Nagyon alacsony",lowValues:"Alacsony",normalValues:"Normál",highValues:"Magas",veryHighValues:"Nagyon magas",targetRangeLegend:"Céltartomány",insulin:"Inzulin",axisHour:"Óra",axisMeasurements:"Mérések",noDataText:"Nincs elegendő adat a kiválasztott intervallumban az ambuláns glükózprofil megjelenítéséhez.",averageModeDaysLimitText:"Az ambuláns glükózprofil megjelenítéséhez 1 évnél rövidebb intervallum megadása szükséges."},targetRangeChart:{measurementsCount:"Mérések száma",ranges:"Tartomány",veryLowCaption:"Nagyon alacsony",lowCaption:"Alacsony",inTargetCaption:"Normál",highCaption:"Magas",veryHighCaption:"Nagyon magas",noData:"Nincs elegendő adat"},dpgCharts:{chartTitle:"Napi glükózprofil",days:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],clearSelection:"Kijelölés törlése",modalTitle:"Egyéni diagram - {0}",noData:"Nincs adat",daySelectionWarnMessage:"Maximum {0} napot lehet kijelölni."},dgpCustomChart:{noDataText:"Nincs megjeleníthető adat.",diagramTypeLabel:"Diagram típusa",diagramTypeSd:"Szórás",diagramTypeNormal:"Vonal",glucoseSdLegend:"Vércukor átlag ± szórás",avgTooltip:"Átlag",sdTooltip:"Szórás"},bloodGlucoseDiary:{shortDays:["V","H","K","Sze","Cs","P","Szo"],down:"Hajnal",beforeBreakfast:"Reggeli előtt",afterBreakfast:"Reggeli után",forenoon:"Délelőtt",beforeElevenses:"Tízórai előtt",afterElevenses:"Tízórai után",beforeLunch:"Ebéd előtt",afterLunch:"Ebéd után",afternoon:"Délután",beforeAfternoonsnack:"Uzsonna előtt",afterAfternoonsnack:"Uzsonna után",beforeDinner:"Vacsora előtt",afterDinner:"Vacsora után",evening:"Este",date:"Dátum",dateFormatterFirstLine:"YYYY",dateFormatterSecondLine:"MM.DD"},globalSettingsDialog:{navigationViewMode:"Nézet",navigationUnit:"Mértékegység",navigationBloodGlucose:"Vércukor",navigationInsulin:"Inzulin",navigationDiary:"Vércukornapló",navigationLanguage:"Nyelv",tabBloodGlucose:{averageLinesLabel:"Átlag görbék megjelenítése",roundedLineChartsLabel:"Kerekített vonal diagramok",dgpTypeLabel:"DGP diagram típus",dgpTypeLine:"Vonal",dgpTypeScatter:"Buborék",displayNonMeasurableValuesLabel:"Méréshatáron kívüli értékek megjelenítése",midlineTypeLabel:"Középérték típusa",midlineTypeAvg:"Átlag",midlineTypeMedian:"Medián"},tabInsulin:{displayInsulinsInAgpLabel:"Inzulin adatok megjelenítése az AGP diagramon",typeColorLabel:"típus színe"},tabDiary:{typeMealtimeTitle:"Étkezéshez kötött",preMealtimeLabel:"Étkezés előtti idő",postMealtimeLabel:"Étkezés utáni idő",minutes:"perc",numberRequiredBetween:"Az érték {0} és {1} közötti szám kell, hogy legyen"},tabViewModel:{AGP:"AGP",DCM:"DCM Napló"}},colorPicker:{selectColorButtonCaption:"Választ"},mealtimeEditor:{modalTitle:"Étkezési időpontok szerkesztése",timeRequired:"Az időpont megdása kötelező.",timeInvalid:"Helytelen időpont.",timeConflict:"Az étkezési időpontok között minimum 2,5 óra kell hogy legyen."},patient:{patientProfileNameLabel:"Név",patientProfileLinkLabel:"Páciens adatlap"}}}},ua7m:function(t,e){},uslO:function(t,e,n){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return n(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id="uslO"}},[0]);